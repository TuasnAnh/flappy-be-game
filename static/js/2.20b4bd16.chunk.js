/*! For license information please see 2.20b4bd16.chunk.js.LICENSE.txt */
(this["webpackJsonpmodern-flappy-bee"]=this["webpackJsonpmodern-flappy-bee"]||[]).push([[2],[function(t,r,n){"use strict";n.d(r,"c",(function(){return i.b})),n.d(r,"d",(function(){return o})),n.d(r,"e",(function(){return u})),n.d(r,"h",(function(){return w})),n.d(r,"i",(function(){return m.a})),n.d(r,"a",(function(){return y})),n.d(r,"b",(function(){return _t})),n.d(r,"f",(function(){return Et})),n.d(r,"g",(function(){return xt}));var e={};n.r(e),n.d(e,"create",(function(){return T})),n.d(e,"clone",(function(){return R})),n.d(e,"copy",(function(){return I})),n.d(e,"fromValues",(function(){return S})),n.d(e,"set",(function(){return P})),n.d(e,"identity",(function(){return U})),n.d(e,"transpose",(function(){return L})),n.d(e,"invert",(function(){return O})),n.d(e,"adjoint",(function(){return N})),n.d(e,"determinant",(function(){return j})),n.d(e,"multiply",(function(){return D})),n.d(e,"translate",(function(){return B})),n.d(e,"scale",(function(){return F})),n.d(e,"rotate",(function(){return C})),n.d(e,"rotateX",(function(){return V})),n.d(e,"rotateY",(function(){return k})),n.d(e,"rotateZ",(function(){return q})),n.d(e,"fromTranslation",(function(){return Y})),n.d(e,"fromScaling",(function(){return X})),n.d(e,"fromRotation",(function(){return G})),n.d(e,"fromXRotation",(function(){return H})),n.d(e,"fromYRotation",(function(){return z})),n.d(e,"fromZRotation",(function(){return W})),n.d(e,"fromRotationTranslation",(function(){return K})),n.d(e,"fromQuat2",(function(){return Z})),n.d(e,"getTranslation",(function(){return Q})),n.d(e,"getScaling",(function(){return J})),n.d(e,"getRotation",(function(){return $})),n.d(e,"fromRotationTranslationScale",(function(){return tt})),n.d(e,"fromRotationTranslationScaleOrigin",(function(){return rt})),n.d(e,"fromQuat",(function(){return nt})),n.d(e,"frustum",(function(){return et})),n.d(e,"perspective",(function(){return it})),n.d(e,"perspectiveFromFieldOfView",(function(){return at})),n.d(e,"ortho",(function(){return ot})),n.d(e,"lookAt",(function(){return ut})),n.d(e,"targetTo",(function(){return st})),n.d(e,"str",(function(){return ht})),n.d(e,"frob",(function(){return ct})),n.d(e,"add",(function(){return ft})),n.d(e,"subtract",(function(){return lt})),n.d(e,"multiplyScalar",(function(){return dt})),n.d(e,"multiplyScalarAndAdd",(function(){return pt})),n.d(e,"exactEquals",(function(){return gt})),n.d(e,"equals",(function(){return vt})),n.d(e,"mul",(function(){return mt})),n.d(e,"sub",(function(){return yt}));var i=n(9),a=n(20),o=n.n(a).a,u=function(t){var r,n=Date.now(),e=0,i=!0,a=0,o=0;return function u(){if(i){var s=Date.now()-n;n=Date.now(),a++,(o+=s)>=1e3&&(e=a,a=0,o-=1e3),t(s/1e3),r=requestAnimationFrame(u)}}(),{isRunning:function(){return i},start:function(){i||(i=!0,loop())},stop:function(){r&&cancelAnimationFrame(r),i=!1},getFps:function(){return e}}},s=n(6);function h(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function c(t,r,n){return r&&h(t.prototype,r),n&&h(t,n),t}var f=n(21),l=function(){function t(r){var n=this;Object(s.a)(this,t),this.canvas=r,this.lastX=0,this.lastY=0,this.touched=!1;var e=this.emitter=new f.EventEmitter;this.mouseDownHandler=function(t){n.touched=!0,n.handleMove(t),e.emit("touchStart",n.getX(),n.getY())},this.mouseUpHandler=function(t){n.touched=!1,e.emit("touchEnd",n.getX(),n.getY())},this.mouseMoveHandler=function(t){n.handleMove(t),e.emit("touchMove",n.getX(),n.getY())},this.touchStartHandler=function(t){t.preventDefault();var r=t.touches[0];n.canvas.dispatchEvent(new MouseEvent("mousedown",{clientX:r.clientX,clientY:r.clientY}))},this.touchEndHandler=function(t){t.preventDefault(),n.canvas.dispatchEvent(new MouseEvent("mouseup"))},this.touchMoveHandler=function(t){t.preventDefault();var r=t.touches[0];n.canvas.dispatchEvent(new MouseEvent("mousemove",{clientX:r.clientX,clientY:r.clientY}))},this.canvas.addEventListener("mousedown",this.mouseDownHandler,!1),this.canvas.addEventListener("mouseup",this.mouseUpHandler,!1),this.canvas.addEventListener("mousemove",this.mouseMoveHandler,!1),this.canvas.addEventListener("touchstart",this.touchStartHandler,!1),this.canvas.addEventListener("touchend",this.touchEndHandler,!1),this.canvas.addEventListener("touchmove",this.touchMoveHandler,!1)}return c(t,[{key:"cleanup",value:function(){this.canvas.removeEventListener("mousedown",this.mouseDownHandler),this.canvas.removeEventListener("mouseup",this.mouseUpHandler),this.canvas.removeEventListener("mousemove",this.mouseMoveHandler),this.canvas.removeEventListener("touchstart",this.touchStartHandler),this.canvas.removeEventListener("touchend",this.touchEndHandler),this.canvas.removeEventListener("touchmove",this.touchMoveHandler)}},{key:"addEventListener",value:function(t,r){this.emitter.addListener(t,r)}},{key:"handleMove",value:function(t){var r=this.canvas.getBoundingClientRect(),n=t.clientX-r.left,e=t.clientY-r.top;this.lastX=n,this.lastY=e}},{key:"getX",value:function(){return this.lastX}},{key:"getY",value:function(){return this.lastY}},{key:"isTouched",value:function(){return this.touched}}]),t}(),d=n(1),p=n.n(d),g=n(2),v=n(3),m=n(5),y=function(){function t(r,n,e,i,a,o,u,h,c){Object(s.a)(this,t),u&&h||(u=1/r.width,h=1/r.height);var f=n*u,l=e*h,d=(n+i)*u,p=(e+a)*h;for(var g in this.texture=r,this.x=n,this.y=e,this.width=i,this.height=a,c?(this.u=d,this.v=l,this.u2=f,this.v2=p):(this.u=f,this.v=l,this.u2=d,this.v2=p),o)this[g]=o[g]}return c(t,null,[{key:"splitTexture",value:function(r,n,e){for(var i=r.width/n,a=r.height/e,o=[],u=0;u<n;u++)for(var s=0;s<e;s++)o.push(new t(r,u*i,s*a,i,a,{}));return o}}]),c(t,[{key:"draw",value:function(t,r,n,e,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:1;t.draw(this.texture,r,n,e,i,a,o,u,s,h,this.u,this.v,this.u2,this.v2)}}]),t}();function b(t,r){for(var n=t.split("/"),e=r.split("/"),i=[],a=0,o=n.length;a<o;a++)if(".."===n[a])i.pop();else{if("."===n[a])continue;i.push(n[a])}for(var u=0,s=e.length;u<s;u++)if(".."===e[u])i.pop();else{if("."===e[u])continue;i.push(e[u])}return i.join("/")}var _=0,M=1,w=function(){var t=Object(v.a)(p.a.mark((function t(r,n,e){var i,a,o,u,s,h,c,f,l,d,v,w,E,x,A,T,R,I,S,P,U,L,O,N,j,D,B,F,C,V,k,q,Y,X,G,H,z,W,K,Z,Q;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(n).then((function(t){return t.text()}));case 2:i=t.sent,a=[],o=[],s=i.split("\n"),h=0;case 7:if(void 0!==(f=s[h])){t.next=11;break}return t.abrupt("break",15);case 11:0===f.trim().length?u=null:null===u?(l=b(n,"../".concat(f)),h++,f=s[h],c=f.split(":")[1].split(",").map((function(t){return t.trim()})),d=parseInt(c[0],10),v=parseInt(c[1],10),h++,f=s[h],c=f.split(":")[1].split(",").map((function(t){return t.trim()})),w=c[0],h++,f=s[h],c=f.split(":")[1].split(",").map((function(t){return t.trim()})),E=c,x=Object(g.a)(E,2),A=x[0],T=x[1],h++,f=s[h],c=f.split(":")[1].split(",").map((function(t){return t.trim()})),R=c[0],I=_,S=_,"x"===R?I=M:"y"===R?S=M:"xy"===R&&(I=M,S=M),u={file:l,width:d,height:v,format:w,mipMaps:"Nearest"!==A&&"Linear"!==A,min:A,max:T,direction:R,repeatX:I,repeatY:S},a.push(u)):(P=f,h++,f=s[h],c=f.split(":")[1].split(",").map((function(t){return t.trim()})),U="true"===c[0],h++,f=s[h],c=f.split(":")[1].split(",").map((function(t){return t.trim()})),L=parseInt(c[0],10),O=parseInt(c[1],10),h++,f=s[h],c=f.split(":")[1].split(",").map((function(t){return t.trim()})),N=parseInt(c[0],10),j=parseInt(c[1],10),D={name:P,rotate:U,left:L,top:O,width:N,height:j,page:u},h++,f=s[h],4===(c=f.split(":")[1].split(",").map((function(t){return t.trim()}))).length&&(D.splits=c.map((function(t){return parseInt(t,10)})),h++,f=s[h],4===(c=f.split(":")[1].split(",").map((function(t){return t.trim()}))).length&&(D.pads=c.map((function(t){return parseInt(t,10)})),h++,f=s[h],c=f.split(":")[1].split(",").map((function(t){return t.trim()})))),D.originalWidth=parseInt(c[0],10),D.originalHeight=parseInt(c[1],10),h++,f=s[h],c=f.split(":")[1].split(",").map((function(t){return t.trim()})),D.offsetX=parseInt(c[0],10),D.offsetY=parseInt(c[1],10),h++,f=s[h],c=f.split(":")[1].split(",").map((function(t){return t.trim()})),D.index=parseInt(c[0],10),o.push(D)),h++,t.next=7;break;case 15:B=0,F=a;case 16:if(!(B<F.length)){t.next=26;break}return C=F[B],t.next=20,Object(m.a)(r,C.file,e);case 20:C.texture=t.sent,C.invTexWidth=1/C.texture.width,C.invTexHeight=1/C.texture.height;case 23:B++,t.next=16;break;case 26:for(V=[],k=0,q=o;k<q.length;k++)Y=q[k],X=Y.left,G=Y.top,H=Y.rotate?Y.height:Y.width,z=Y.rotate?Y.width:Y.height,W=Y.page,K=W.texture,Z=W.invTexWidth,Q=W.invTexHeight,V.push(new y(K,X,G,H,z,Y,Z,Q,Y.rotate));return t.abrupt("return",{getPages:function(){return a},getRegions:function(){return V},findRegion:function(t,r){for(var n=0;n<V.length;n++){var e=V[n];if(e.name===t&&(void 0===r||e.index===r))return e}return null},findRegions:function(t){return V.filter((function(r){return r.name===t})).sort((function(t,r){return t.index-r.index}))}});case 29:case"end":return t.stop()}}),t)})));return function(r,n,e){return t.apply(this,arguments)}}();var E=function(t,r,n,e,i,a,o){var u=Object(g.a)(r,3),s=u[0],h=u[1],c=u[2];return s-=e,h=o-h-1,h-=i,t[0]=2*s/a-1,t[1]=2*h/o-1,t[2]=2*c-1,function(t,r,n){var e=Object(g.a)(r,3),i=e[0],a=e[1],o=e[2],u=n,s=u[0],h=u[1],c=u[2],f=u[3],l=u[4],d=u[5],p=u[6],v=u[7],m=u[8],y=u[9],b=u[10],_=u[11],M=u[12],w=u[13],E=u[14],x=1/(i*f+a*v+o*_+u[15]);return t[0]=(i*s+a*l+o*m+M)*x,t[1]=(i*h+a*d+o*y+w)*x,t[2]=(i*c+a*p+o*b+E)*x,t}(t,t,n)},x=1e-6,A="undefined"!==typeof Float32Array?Float32Array:Array;Math.random;Math.PI;function T(){var t=new A(16);return A!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function R(t){var r=new A(16);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}function I(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}function S(t,r,n,e,i,a,o,u,s,h,c,f,l,d,p,g){var v=new A(16);return v[0]=t,v[1]=r,v[2]=n,v[3]=e,v[4]=i,v[5]=a,v[6]=o,v[7]=u,v[8]=s,v[9]=h,v[10]=c,v[11]=f,v[12]=l,v[13]=d,v[14]=p,v[15]=g,v}function P(t,r,n,e,i,a,o,u,s,h,c,f,l,d,p,g,v){return t[0]=r,t[1]=n,t[2]=e,t[3]=i,t[4]=a,t[5]=o,t[6]=u,t[7]=s,t[8]=h,t[9]=c,t[10]=f,t[11]=l,t[12]=d,t[13]=p,t[14]=g,t[15]=v,t}function U(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function L(t,r){if(t===r){var n=r[1],e=r[2],i=r[3],a=r[6],o=r[7],u=r[11];t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=n,t[6]=r[9],t[7]=r[13],t[8]=e,t[9]=a,t[11]=r[14],t[12]=i,t[13]=o,t[14]=u}else t[0]=r[0],t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=r[1],t[5]=r[5],t[6]=r[9],t[7]=r[13],t[8]=r[2],t[9]=r[6],t[10]=r[10],t[11]=r[14],t[12]=r[3],t[13]=r[7],t[14]=r[11],t[15]=r[15];return t}function O(t,r){var n=r[0],e=r[1],i=r[2],a=r[3],o=r[4],u=r[5],s=r[6],h=r[7],c=r[8],f=r[9],l=r[10],d=r[11],p=r[12],g=r[13],v=r[14],m=r[15],y=n*u-e*o,b=n*s-i*o,_=n*h-a*o,M=e*s-i*u,w=e*h-a*u,E=i*h-a*s,x=c*g-f*p,A=c*v-l*p,T=c*m-d*p,R=f*v-l*g,I=f*m-d*g,S=l*m-d*v,P=y*S-b*I+_*R+M*T-w*A+E*x;return P?(P=1/P,t[0]=(u*S-s*I+h*R)*P,t[1]=(i*I-e*S-a*R)*P,t[2]=(g*E-v*w+m*M)*P,t[3]=(l*w-f*E-d*M)*P,t[4]=(s*T-o*S-h*A)*P,t[5]=(n*S-i*T+a*A)*P,t[6]=(v*_-p*E-m*b)*P,t[7]=(c*E-l*_+d*b)*P,t[8]=(o*I-u*T+h*x)*P,t[9]=(e*T-n*I-a*x)*P,t[10]=(p*w-g*_+m*y)*P,t[11]=(f*_-c*w-d*y)*P,t[12]=(u*A-o*R-s*x)*P,t[13]=(n*R-e*A+i*x)*P,t[14]=(g*b-p*M-v*y)*P,t[15]=(c*M-f*b+l*y)*P,t):null}function N(t,r){var n=r[0],e=r[1],i=r[2],a=r[3],o=r[4],u=r[5],s=r[6],h=r[7],c=r[8],f=r[9],l=r[10],d=r[11],p=r[12],g=r[13],v=r[14],m=r[15];return t[0]=u*(l*m-d*v)-f*(s*m-h*v)+g*(s*d-h*l),t[1]=-(e*(l*m-d*v)-f*(i*m-a*v)+g*(i*d-a*l)),t[2]=e*(s*m-h*v)-u*(i*m-a*v)+g*(i*h-a*s),t[3]=-(e*(s*d-h*l)-u*(i*d-a*l)+f*(i*h-a*s)),t[4]=-(o*(l*m-d*v)-c*(s*m-h*v)+p*(s*d-h*l)),t[5]=n*(l*m-d*v)-c*(i*m-a*v)+p*(i*d-a*l),t[6]=-(n*(s*m-h*v)-o*(i*m-a*v)+p*(i*h-a*s)),t[7]=n*(s*d-h*l)-o*(i*d-a*l)+c*(i*h-a*s),t[8]=o*(f*m-d*g)-c*(u*m-h*g)+p*(u*d-h*f),t[9]=-(n*(f*m-d*g)-c*(e*m-a*g)+p*(e*d-a*f)),t[10]=n*(u*m-h*g)-o*(e*m-a*g)+p*(e*h-a*u),t[11]=-(n*(u*d-h*f)-o*(e*d-a*f)+c*(e*h-a*u)),t[12]=-(o*(f*v-l*g)-c*(u*v-s*g)+p*(u*l-s*f)),t[13]=n*(f*v-l*g)-c*(e*v-i*g)+p*(e*l-i*f),t[14]=-(n*(u*v-s*g)-o*(e*v-i*g)+p*(e*s-i*u)),t[15]=n*(u*l-s*f)-o*(e*l-i*f)+c*(e*s-i*u),t}function j(t){var r=t[0],n=t[1],e=t[2],i=t[3],a=t[4],o=t[5],u=t[6],s=t[7],h=t[8],c=t[9],f=t[10],l=t[11],d=t[12],p=t[13],g=t[14],v=t[15];return(r*o-n*a)*(f*v-l*g)-(r*u-e*a)*(c*v-l*p)+(r*s-i*a)*(c*g-f*p)+(n*u-e*o)*(h*v-l*d)-(n*s-i*o)*(h*g-f*d)+(e*s-i*u)*(h*p-c*d)}function D(t,r,n){var e=r[0],i=r[1],a=r[2],o=r[3],u=r[4],s=r[5],h=r[6],c=r[7],f=r[8],l=r[9],d=r[10],p=r[11],g=r[12],v=r[13],m=r[14],y=r[15],b=n[0],_=n[1],M=n[2],w=n[3];return t[0]=b*e+_*u+M*f+w*g,t[1]=b*i+_*s+M*l+w*v,t[2]=b*a+_*h+M*d+w*m,t[3]=b*o+_*c+M*p+w*y,b=n[4],_=n[5],M=n[6],w=n[7],t[4]=b*e+_*u+M*f+w*g,t[5]=b*i+_*s+M*l+w*v,t[6]=b*a+_*h+M*d+w*m,t[7]=b*o+_*c+M*p+w*y,b=n[8],_=n[9],M=n[10],w=n[11],t[8]=b*e+_*u+M*f+w*g,t[9]=b*i+_*s+M*l+w*v,t[10]=b*a+_*h+M*d+w*m,t[11]=b*o+_*c+M*p+w*y,b=n[12],_=n[13],M=n[14],w=n[15],t[12]=b*e+_*u+M*f+w*g,t[13]=b*i+_*s+M*l+w*v,t[14]=b*a+_*h+M*d+w*m,t[15]=b*o+_*c+M*p+w*y,t}function B(t,r,n){var e,i,a,o,u,s,h,c,f,l,d,p,g=n[0],v=n[1],m=n[2];return r===t?(t[12]=r[0]*g+r[4]*v+r[8]*m+r[12],t[13]=r[1]*g+r[5]*v+r[9]*m+r[13],t[14]=r[2]*g+r[6]*v+r[10]*m+r[14],t[15]=r[3]*g+r[7]*v+r[11]*m+r[15]):(e=r[0],i=r[1],a=r[2],o=r[3],u=r[4],s=r[5],h=r[6],c=r[7],f=r[8],l=r[9],d=r[10],p=r[11],t[0]=e,t[1]=i,t[2]=a,t[3]=o,t[4]=u,t[5]=s,t[6]=h,t[7]=c,t[8]=f,t[9]=l,t[10]=d,t[11]=p,t[12]=e*g+u*v+f*m+r[12],t[13]=i*g+s*v+l*m+r[13],t[14]=a*g+h*v+d*m+r[14],t[15]=o*g+c*v+p*m+r[15]),t}function F(t,r,n){var e=n[0],i=n[1],a=n[2];return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t[4]=r[4]*i,t[5]=r[5]*i,t[6]=r[6]*i,t[7]=r[7]*i,t[8]=r[8]*a,t[9]=r[9]*a,t[10]=r[10]*a,t[11]=r[11]*a,t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}function C(t,r,n,e){var i,a,o,u,s,h,c,f,l,d,p,g,v,m,y,b,_,M,w,E,A,T,R,I,S=e[0],P=e[1],U=e[2],L=Math.hypot(S,P,U);return L<x?null:(S*=L=1/L,P*=L,U*=L,i=Math.sin(n),o=1-(a=Math.cos(n)),u=r[0],s=r[1],h=r[2],c=r[3],f=r[4],l=r[5],d=r[6],p=r[7],g=r[8],v=r[9],m=r[10],y=r[11],b=S*S*o+a,_=P*S*o+U*i,M=U*S*o-P*i,w=S*P*o-U*i,E=P*P*o+a,A=U*P*o+S*i,T=S*U*o+P*i,R=P*U*o-S*i,I=U*U*o+a,t[0]=u*b+f*_+g*M,t[1]=s*b+l*_+v*M,t[2]=h*b+d*_+m*M,t[3]=c*b+p*_+y*M,t[4]=u*w+f*E+g*A,t[5]=s*w+l*E+v*A,t[6]=h*w+d*E+m*A,t[7]=c*w+p*E+y*A,t[8]=u*T+f*R+g*I,t[9]=s*T+l*R+v*I,t[10]=h*T+d*R+m*I,t[11]=c*T+p*R+y*I,r!==t&&(t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t)}function V(t,r,n){var e=Math.sin(n),i=Math.cos(n),a=r[4],o=r[5],u=r[6],s=r[7],h=r[8],c=r[9],f=r[10],l=r[11];return r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[4]=a*i+h*e,t[5]=o*i+c*e,t[6]=u*i+f*e,t[7]=s*i+l*e,t[8]=h*i-a*e,t[9]=c*i-o*e,t[10]=f*i-u*e,t[11]=l*i-s*e,t}function k(t,r,n){var e=Math.sin(n),i=Math.cos(n),a=r[0],o=r[1],u=r[2],s=r[3],h=r[8],c=r[9],f=r[10],l=r[11];return r!==t&&(t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=a*i-h*e,t[1]=o*i-c*e,t[2]=u*i-f*e,t[3]=s*i-l*e,t[8]=a*e+h*i,t[9]=o*e+c*i,t[10]=u*e+f*i,t[11]=s*e+l*i,t}function q(t,r,n){var e=Math.sin(n),i=Math.cos(n),a=r[0],o=r[1],u=r[2],s=r[3],h=r[4],c=r[5],f=r[6],l=r[7];return r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=a*i+h*e,t[1]=o*i+c*e,t[2]=u*i+f*e,t[3]=s*i+l*e,t[4]=h*i-a*e,t[5]=c*i-o*e,t[6]=f*i-u*e,t[7]=l*i-s*e,t}function Y(t,r){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function X(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=r[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function G(t,r,n){var e,i,a,o=n[0],u=n[1],s=n[2],h=Math.hypot(o,u,s);return h<x?null:(o*=h=1/h,u*=h,s*=h,e=Math.sin(r),a=1-(i=Math.cos(r)),t[0]=o*o*a+i,t[1]=u*o*a+s*e,t[2]=s*o*a-u*e,t[3]=0,t[4]=o*u*a-s*e,t[5]=u*u*a+i,t[6]=s*u*a+o*e,t[7]=0,t[8]=o*s*a+u*e,t[9]=u*s*a-o*e,t[10]=s*s*a+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function H(t,r){var n=Math.sin(r),e=Math.cos(r);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function z(t,r){var n=Math.sin(r),e=Math.cos(r);return t[0]=e,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function W(t,r){var n=Math.sin(r),e=Math.cos(r);return t[0]=e,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function K(t,r,n){var e=r[0],i=r[1],a=r[2],o=r[3],u=e+e,s=i+i,h=a+a,c=e*u,f=e*s,l=e*h,d=i*s,p=i*h,g=a*h,v=o*u,m=o*s,y=o*h;return t[0]=1-(d+g),t[1]=f+y,t[2]=l-m,t[3]=0,t[4]=f-y,t[5]=1-(c+g),t[6]=p+v,t[7]=0,t[8]=l+m,t[9]=p-v,t[10]=1-(c+d),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function Z(t,r){var n=new A(3),e=-r[0],i=-r[1],a=-r[2],o=r[3],u=r[4],s=r[5],h=r[6],c=r[7],f=e*e+i*i+a*a+o*o;return f>0?(n[0]=2*(u*o+c*e+s*a-h*i)/f,n[1]=2*(s*o+c*i+h*e-u*a)/f,n[2]=2*(h*o+c*a+u*i-s*e)/f):(n[0]=2*(u*o+c*e+s*a-h*i),n[1]=2*(s*o+c*i+h*e-u*a),n[2]=2*(h*o+c*a+u*i-s*e)),K(t,r,n),t}function Q(t,r){return t[0]=r[12],t[1]=r[13],t[2]=r[14],t}function J(t,r){var n=r[0],e=r[1],i=r[2],a=r[4],o=r[5],u=r[6],s=r[8],h=r[9],c=r[10];return t[0]=Math.hypot(n,e,i),t[1]=Math.hypot(a,o,u),t[2]=Math.hypot(s,h,c),t}function $(t,r){var n=new A(3);J(n,r);var e=1/n[0],i=1/n[1],a=1/n[2],o=r[0]*e,u=r[1]*i,s=r[2]*a,h=r[4]*e,c=r[5]*i,f=r[6]*a,l=r[8]*e,d=r[9]*i,p=r[10]*a,g=o+c+p,v=0;return g>0?(v=2*Math.sqrt(g+1),t[3]=.25*v,t[0]=(f-d)/v,t[1]=(l-s)/v,t[2]=(u-h)/v):o>c&&o>p?(v=2*Math.sqrt(1+o-c-p),t[3]=(f-d)/v,t[0]=.25*v,t[1]=(u+h)/v,t[2]=(l+s)/v):c>p?(v=2*Math.sqrt(1+c-o-p),t[3]=(l-s)/v,t[0]=(u+h)/v,t[1]=.25*v,t[2]=(f+d)/v):(v=2*Math.sqrt(1+p-o-c),t[3]=(u-h)/v,t[0]=(l+s)/v,t[1]=(f+d)/v,t[2]=.25*v),t}function tt(t,r,n,e){var i=r[0],a=r[1],o=r[2],u=r[3],s=i+i,h=a+a,c=o+o,f=i*s,l=i*h,d=i*c,p=a*h,g=a*c,v=o*c,m=u*s,y=u*h,b=u*c,_=e[0],M=e[1],w=e[2];return t[0]=(1-(p+v))*_,t[1]=(l+b)*_,t[2]=(d-y)*_,t[3]=0,t[4]=(l-b)*M,t[5]=(1-(f+v))*M,t[6]=(g+m)*M,t[7]=0,t[8]=(d+y)*w,t[9]=(g-m)*w,t[10]=(1-(f+p))*w,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function rt(t,r,n,e,i){var a=r[0],o=r[1],u=r[2],s=r[3],h=a+a,c=o+o,f=u+u,l=a*h,d=a*c,p=a*f,g=o*c,v=o*f,m=u*f,y=s*h,b=s*c,_=s*f,M=e[0],w=e[1],E=e[2],x=i[0],A=i[1],T=i[2],R=(1-(g+m))*M,I=(d+_)*M,S=(p-b)*M,P=(d-_)*w,U=(1-(l+m))*w,L=(v+y)*w,O=(p+b)*E,N=(v-y)*E,j=(1-(l+g))*E;return t[0]=R,t[1]=I,t[2]=S,t[3]=0,t[4]=P,t[5]=U,t[6]=L,t[7]=0,t[8]=O,t[9]=N,t[10]=j,t[11]=0,t[12]=n[0]+x-(R*x+P*A+O*T),t[13]=n[1]+A-(I*x+U*A+N*T),t[14]=n[2]+T-(S*x+L*A+j*T),t[15]=1,t}function nt(t,r){var n=r[0],e=r[1],i=r[2],a=r[3],o=n+n,u=e+e,s=i+i,h=n*o,c=e*o,f=e*u,l=i*o,d=i*u,p=i*s,g=a*o,v=a*u,m=a*s;return t[0]=1-f-p,t[1]=c+m,t[2]=l-v,t[3]=0,t[4]=c-m,t[5]=1-h-p,t[6]=d+g,t[7]=0,t[8]=l+v,t[9]=d-g,t[10]=1-h-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function et(t,r,n,e,i,a,o){var u=1/(n-r),s=1/(i-e),h=1/(a-o);return t[0]=2*a*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*s,t[6]=0,t[7]=0,t[8]=(n+r)*u,t[9]=(i+e)*s,t[10]=(o+a)*h,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*a*2*h,t[15]=0,t}function it(t,r,n,e,i){var a,o=1/Math.tan(r/2);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(a=1/(e-i),t[10]=(i+e)*a,t[14]=2*i*e*a):(t[10]=-1,t[14]=-2*e),t}function at(t,r,n,e){var i=Math.tan(r.upDegrees*Math.PI/180),a=Math.tan(r.downDegrees*Math.PI/180),o=Math.tan(r.leftDegrees*Math.PI/180),u=Math.tan(r.rightDegrees*Math.PI/180),s=2/(o+u),h=2/(i+a);return t[0]=s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=h,t[6]=0,t[7]=0,t[8]=-(o-u)*s*.5,t[9]=(i-a)*h*.5,t[10]=e/(n-e),t[11]=-1,t[12]=0,t[13]=0,t[14]=e*n/(n-e),t[15]=0,t}function ot(t,r,n,e,i,a,o){var u=1/(r-n),s=1/(e-i),h=1/(a-o);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*h,t[11]=0,t[12]=(r+n)*u,t[13]=(i+e)*s,t[14]=(o+a)*h,t[15]=1,t}function ut(t,r,n,e){var i,a,o,u,s,h,c,f,l,d,p=r[0],g=r[1],v=r[2],m=e[0],y=e[1],b=e[2],_=n[0],M=n[1],w=n[2];return Math.abs(p-_)<x&&Math.abs(g-M)<x&&Math.abs(v-w)<x?U(t):(c=p-_,f=g-M,l=v-w,i=y*(l*=d=1/Math.hypot(c,f,l))-b*(f*=d),a=b*(c*=d)-m*l,o=m*f-y*c,(d=Math.hypot(i,a,o))?(i*=d=1/d,a*=d,o*=d):(i=0,a=0,o=0),u=f*o-l*a,s=l*i-c*o,h=c*a-f*i,(d=Math.hypot(u,s,h))?(u*=d=1/d,s*=d,h*=d):(u=0,s=0,h=0),t[0]=i,t[1]=u,t[2]=c,t[3]=0,t[4]=a,t[5]=s,t[6]=f,t[7]=0,t[8]=o,t[9]=h,t[10]=l,t[11]=0,t[12]=-(i*p+a*g+o*v),t[13]=-(u*p+s*g+h*v),t[14]=-(c*p+f*g+l*v),t[15]=1,t)}function st(t,r,n,e){var i=r[0],a=r[1],o=r[2],u=e[0],s=e[1],h=e[2],c=i-n[0],f=a-n[1],l=o-n[2],d=c*c+f*f+l*l;d>0&&(c*=d=1/Math.sqrt(d),f*=d,l*=d);var p=s*l-h*f,g=h*c-u*l,v=u*f-s*c;return(d=p*p+g*g+v*v)>0&&(p*=d=1/Math.sqrt(d),g*=d,v*=d),t[0]=p,t[1]=g,t[2]=v,t[3]=0,t[4]=f*v-l*g,t[5]=l*p-c*v,t[6]=c*g-f*p,t[7]=0,t[8]=c,t[9]=f,t[10]=l,t[11]=0,t[12]=i,t[13]=a,t[14]=o,t[15]=1,t}function ht(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function ct(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function ft(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t[3]=r[3]+n[3],t[4]=r[4]+n[4],t[5]=r[5]+n[5],t[6]=r[6]+n[6],t[7]=r[7]+n[7],t[8]=r[8]+n[8],t[9]=r[9]+n[9],t[10]=r[10]+n[10],t[11]=r[11]+n[11],t[12]=r[12]+n[12],t[13]=r[13]+n[13],t[14]=r[14]+n[14],t[15]=r[15]+n[15],t}function lt(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t[3]=r[3]-n[3],t[4]=r[4]-n[4],t[5]=r[5]-n[5],t[6]=r[6]-n[6],t[7]=r[7]-n[7],t[8]=r[8]-n[8],t[9]=r[9]-n[9],t[10]=r[10]-n[10],t[11]=r[11]-n[11],t[12]=r[12]-n[12],t[13]=r[13]-n[13],t[14]=r[14]-n[14],t[15]=r[15]-n[15],t}function dt(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t[4]=r[4]*n,t[5]=r[5]*n,t[6]=r[6]*n,t[7]=r[7]*n,t[8]=r[8]*n,t[9]=r[9]*n,t[10]=r[10]*n,t[11]=r[11]*n,t[12]=r[12]*n,t[13]=r[13]*n,t[14]=r[14]*n,t[15]=r[15]*n,t}function pt(t,r,n,e){return t[0]=r[0]+n[0]*e,t[1]=r[1]+n[1]*e,t[2]=r[2]+n[2]*e,t[3]=r[3]+n[3]*e,t[4]=r[4]+n[4]*e,t[5]=r[5]+n[5]*e,t[6]=r[6]+n[6]*e,t[7]=r[7]+n[7]*e,t[8]=r[8]+n[8]*e,t[9]=r[9]+n[9]*e,t[10]=r[10]+n[10]*e,t[11]=r[11]+n[11]*e,t[12]=r[12]+n[12]*e,t[13]=r[13]+n[13]*e,t[14]=r[14]+n[14]*e,t[15]=r[15]+n[15]*e,t}function gt(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]&&t[6]===r[6]&&t[7]===r[7]&&t[8]===r[8]&&t[9]===r[9]&&t[10]===r[10]&&t[11]===r[11]&&t[12]===r[12]&&t[13]===r[13]&&t[14]===r[14]&&t[15]===r[15]}function vt(t,r){var n=t[0],e=t[1],i=t[2],a=t[3],o=t[4],u=t[5],s=t[6],h=t[7],c=t[8],f=t[9],l=t[10],d=t[11],p=t[12],g=t[13],v=t[14],m=t[15],y=r[0],b=r[1],_=r[2],M=r[3],w=r[4],E=r[5],A=r[6],T=r[7],R=r[8],I=r[9],S=r[10],P=r[11],U=r[12],L=r[13],O=r[14],N=r[15];return Math.abs(n-y)<=x*Math.max(1,Math.abs(n),Math.abs(y))&&Math.abs(e-b)<=x*Math.max(1,Math.abs(e),Math.abs(b))&&Math.abs(i-_)<=x*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(a-M)<=x*Math.max(1,Math.abs(a),Math.abs(M))&&Math.abs(o-w)<=x*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(u-E)<=x*Math.max(1,Math.abs(u),Math.abs(E))&&Math.abs(s-A)<=x*Math.max(1,Math.abs(s),Math.abs(A))&&Math.abs(h-T)<=x*Math.max(1,Math.abs(h),Math.abs(T))&&Math.abs(c-R)<=x*Math.max(1,Math.abs(c),Math.abs(R))&&Math.abs(f-I)<=x*Math.max(1,Math.abs(f),Math.abs(I))&&Math.abs(l-S)<=x*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(d-P)<=x*Math.max(1,Math.abs(d),Math.abs(P))&&Math.abs(p-U)<=x*Math.max(1,Math.abs(p),Math.abs(U))&&Math.abs(g-L)<=x*Math.max(1,Math.abs(g),Math.abs(L))&&Math.abs(v-O)<=x*Math.max(1,Math.abs(v),Math.abs(O))&&Math.abs(m-N)<=x*Math.max(1,Math.abs(m),Math.abs(N))}Math.hypot||(Math.hypot=function(){for(var t=0,r=arguments.length;r--;)t+=arguments[r]*arguments[r];return Math.sqrt(t)});var mt=D,yt=lt,bt=function(t,r){var n=r||window.devicePixelRatio||1,e=t.clientWidth*n,i=t.clientHeight*n;return t.width===e&&t.height===i||(t.width=e,t.height=i),[e,i]},_t=function(){function t(r,n){Object(s.a)(this,t),this.x=r,this.y=n}return c(t,[{key:"getX",value:function(){return this.x}},{key:"getY",value:function(){return this.y}},{key:"set",value:function(t,r){return this.x=t,this.y=r,this}},{key:"setVector",value:function(t){return this.set(t.x,t.y)}},{key:"add",value:function(t,r){return this.x+=t,this.y+=r,this}},{key:"addVector",value:function(t){return this.add(t.x,t.y)}},{key:"sub",value:function(t,r){return this.add(-t,-r)}},{key:"subVector",value:function(t){return this.sub(t.x,t.y)}},{key:"scale",value:function(t){return this.x*=t,this.y*=t,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"distanceSqr",value:function(t){var r=this.x-t.x,n=this.y-t.y;return r*r+n*n}},{key:"distance",value:function(t){return Math.sqrt(this.distanceSqr(t))}},{key:"angle",value:function(){return Math.atan2(this.y,this.x)}},{key:"len2",value:function(){return this.x*this.x+this.y*this.y}},{key:"len",value:function(){return Math.sqrt(this.len2())}},{key:"nor",value:function(){var t=this.len();return 0!==t&&(this.x/=t,this.y/=t),this}},{key:"rotateRad",value:function(t){var r=Math.cos(t),n=Math.sin(t),e=this.x*r-this.y*n,i=this.x*n+this.y*r;return this.x=e,this.y=i,this}},{key:"rotate",value:function(t){return this.rotateRad(t*Math.PI/180)}}]),t}(),Mt=(new _t(0,0),new _t(0,0),new _t(0,0),n(8)),wt={autoUpdate:!0,pixelRatio:void 0},Et=function(t,r,n,i){i=Object(Mt.a)(Object(Mt.a)({},wt),i);var a,o=t.getContext("webgl"),u=i,s=u.autoUpdate,h=u.pixelRatio,c={pixelRatio:h=h||window.devicePixelRatio||1,x:0,y:0,width:r,height:n},f=bt(t,h),l=Object(g.a)(f,2),d=l[0],p=l[1],v=function(t,r,n,i){var a=e.create(),o=e.create(),u=e.create(),s=e.create(),h=[0,0],c=[0,0,0],f=[0,0,1],l=[0,0,0],d=[0,1,0],p=function(){e.ortho(a,0,t,r,0,0,1);var n=h[0],i=h[1];f[0]=l[0]=n,f[1]=l[1]=i,e.identity(o),e.lookAt(s,f,l,d),e.mul(o,o,s),e.mul(a,a,o),e.invert(u,a)};return p(),{combined:a,setMatrix:function(t){e.copy(a,t),e.invert(u,a)},setYUp:function(t){d[1]=t?-1:1,p()},setPosition:function(t,r){h[0]=t,h[1]=r,p()},unprojectVector2:function(t,r){c[0]=r.x,c[1]=r.y,c[2]=0,E(c,c,u,0,0,n,i),t.set(c[0],c[1])},resize:function(e,a,o,u){t=e,r=a,o&&(n=o),u&&(i=u),p()}}}(r,n,d,p);s&&(a=function(t){m.update()},window.addEventListener("resize",a));var m={getViewportInfo:function(){return c},getCamera:function(){return v},getContext:function(){return o},update:function(){var e,i,a=bt(t,h),u=Object(g.a)(a,2),s=u[0],f=u[1],l=r/n;l<s/f?(i=f,e=f*l):(e=s,i=s/l);var d=(s-e)/2,p=(f-i)/2;c.x=d,c.y=p,c.width=e,c.height=i,o.viewport(d,p,e,i),v.resize(r,n,e,i)},cleanUp:function(){a&&window.removeEventListener("resize",a)}};return s&&m.update(),m},xt=function(t,r){var n=new l(t),e=new _t,i=new _t;return{cleanup:function(){n.cleanup()},addEventListener:function(t,e){n.addEventListener(t,function(t,r){return function(n,e,i){var a=r.getViewportInfo(),o=a.x,u=a.y,s=a.pixelRatio;t(n=(n-o)*s,e=(e-u)*s,i)}}(e,r))},getX:function(){var t=r.getViewportInfo(),e=t.x,i=t.pixelRatio;return n.getX()*i-e},getY:function(){var t=r.getViewportInfo(),e=t.y,i=t.pixelRatio;return n.getY()*i-e},getTouchedWorldCoord:function(){return e.set(this.getX(),this.getY()),r.getCamera().unprojectVector2(i,e),i}}};n(13)},function(t,r,n){t.exports=n(31)},function(t,r,n){"use strict";n.d(r,"a",(function(){return i}));var e=n(14);function i(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],e=!0,i=!1,a=void 0;try{for(var o,u=t[Symbol.iterator]();!(e=(o=u.next()).done)&&(n.push(o.value),!r||n.length!==r);e=!0);}catch(s){i=!0,a=s}finally{try{e||null==u.return||u.return()}finally{if(i)throw a}}return n}}(t,r)||Object(e.a)(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(t,r,n){"use strict";function e(t,r,n,e,i,a,o){try{var u=t[a](o),s=u.value}catch(h){return void n(h)}u.done?r(s):Promise.resolve(s).then(e,i)}function i(t){return function(){var r=this,n=arguments;return new Promise((function(i,a){var o=t.apply(r,n);function u(t){e(o,i,a,u,s,"next",t)}function s(t){e(o,i,a,u,s,"throw",t)}u(void 0)}))}}n.d(r,"a",(function(){return i}))},function(t,r,n){"use strict";n.d(r,"a",(function(){return i}));var e=n(14);function i(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=Object(e.a)(t))){var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a,o=!0,u=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){u=!0,a=t},f:function(){try{o||null==i.return||i.return()}finally{if(u)throw a}}}}},function(t,r,n){"use strict";var e=n(8),i=n(10),a=n.n(i);r.a=function(t,r,n){return new Promise((function(i){var o=new Image;o.src=r,o.onload=function(){var r=new a.a(t,Object(e.a)(Object(e.a)({},n),{},{image:o}));r.setFilter(a.a.Filter.LINEAR,a.a.Filter.LINEAR,!1),i(r)}}))};a.a.Filter},function(t,r,n){"use strict";function e(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}n.d(r,"a",(function(){return e}))},function(t,r){function n(t,r,n){var e=n?t[r]:Object.getOwnPropertyDescriptor(t,r);return!n&&e.value&&"object"===typeof e.value&&(e=e.value),!(!e||!function(t){return!!t.get&&"function"===typeof t.get||!!t.set&&"function"===typeof t.set}(e))&&("undefined"===typeof e.enumerable&&(e.enumerable=!0),"undefined"===typeof e.configurable&&(e.configurable=!0),e)}function e(t,r){var n=Object.getOwnPropertyDescriptor(t,r);return!!n&&(n.value&&"object"===typeof n.value&&(n=n.value),!1===n.configurable)}function i(t,r,i,a){for(var u in r)if(r.hasOwnProperty(u)){var s=n(r,u,i);if(!1!==s){if(e((a||t).prototype,u)){if(o.ignoreFinals)continue;throw new Error("cannot override final property '"+u+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(t.prototype,u,s)}else t.prototype[u]=r[u]}}function a(t,r){if(r){Array.isArray(r)||(r=[r]);for(var n=0;n<r.length;n++)i(t,r[n].prototype||r[n])}}function o(t){var r,n;if(t||(t={}),t.initialize){if("function"!==typeof t.initialize)throw new Error("initialize must be a function");r=t.initialize,delete t.initialize}else if(t.Extends){var e=t.Extends;r=function(){e.apply(this,arguments)}}else r=function(){};t.Extends?(r.prototype=Object.create(t.Extends.prototype),r.prototype.constructor=r,n=t.Extends,delete t.Extends):r.prototype.constructor=r;var o=null;return t.Mixins&&(o=t.Mixins,delete t.Mixins),a(r,o),i(r,t,!0,n),r}o.extend=i,o.mixin=a,o.ignoreFinals=!1,t.exports=o},function(t,r,n){"use strict";function e(t,r,n){return r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function i(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);r&&(e=e.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),n.push.apply(n,e)}return n}function a(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?i(Object(n),!0).forEach((function(r){e(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}n.d(r,"a",(function(){return a}))},function(t,r,n){"use strict";n.d(r,"a",(function(){return e}));var e={NORMAL:0,LOOP:1,LOOP_PINGPONG:2,REVERSED:3,LOOP_REVERSED:4};r.b=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{getKeyFrame:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.NORMAL,a=Math.floor(n/t);switch(i){case e.NORMAL:a=Math.min(r.length-1,a);break;case e.LOOP:a%=r.length;break;case e.LOOP_PINGPONG:(a%=2*r.length-2)>=r.length&&(a=r.length-2-(a-r.length));break;case e.REVERSED:a=Math.max(r.length-a-1,0);break;case e.LOOP_REVERSED:a%=r.length,a=r.length-a-1}return r[a]}}}},function(t,r,n){var e=n(7),i=(n(12).nextPowerOfTwo,n(12).isPowerOfTwo),a=n(11).BaseObject,o=new e({initialize:function t(r,n){if(!(this instanceof t))return new t(r,n);a.call(this,r),this.managedArgs=n,this.id=null,this.target=this.context.gl.TEXTURE_2D,this.width=0,this.height=0,this.__shape=[0,0],this.wrapS=t.DEFAULT_WRAP,this.wrapT=t.DEFAULT_WRAP,this.minFilter=t.DEFAULT_FILTER,this.magFilter=t.DEFAULT_FILTER,this.context.addManagedObject(this),this.create()},setup:function(t){var r=this.gl;if(t)if(t.src&&"string"===typeof t.src){var n=new Image,e=t.src,i=t.crossOrigin,a="function"===typeof t.onLoad?t.onLoad:null,u="function"===typeof t.onError?t.onError:null,s=t.genMipmaps,h=this;o.USE_DUMMY_1x1_DATA&&(h.uploadData(1,1),this.width=this.height=0),n.crossOrigin=i,n.onload=function(t){h.uploadImage(n,void 0,void 0,s),"function"===typeof a&&a.call(h,t,h)},n.onerror=function(t){s&&r.generateMipmap(r.TEXTURE_2D),"function"===typeof u&&u.call(h,t,h)},n.onabort=function(t){s&&r.generateMipmap(r.TEXTURE_2D),"function"===typeof u&&u.call(h,t,h)},n.src=e}else t.image?this.uploadImage(t.image,t.format,t.dataType,t.genMipmaps):this.uploadData(t.width,t.height,t.format,t.dataType,t.data,t.genMipmaps)},create:function(){this.gl=this.context.gl;var t=this.gl;this.id=t.createTexture(),this.width=this.height=0,this.target=t.TEXTURE_2D,this.bind(),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o.UNPACK_PREMULTIPLY_ALPHA),t.pixelStorei(t.UNPACK_ALIGNMENT,o.UNPACK_ALIGNMENT),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,o.UNPACK_FLIP_Y);var r=o.UNPACK_COLORSPACE_CONVERSION||t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,r),this.setWrap(this.wrapS,this.wrapT,!1),this.setFilter(this.minFilter,this.magFilter,!1),this.managedArgs&&this.setup(this.managedArgs)},destroy:function(){this.id&&this.gl&&this.gl.deleteTexture(this.id),this.context&&this.context.removeManagedObject(this),this.width=this.height=0,this.id=null,this.managedArgs=null,this.context=null,this.gl=null},setWrap:function(t,r,n){t&&r?(this.wrapS=t,this.wrapT=r):this.wrapS=this.wrapT=t,this._checkPOT(),n||this.bind();var e=this.gl;e.texParameteri(this.target,e.TEXTURE_WRAP_S,this.wrapS),e.texParameteri(this.target,e.TEXTURE_WRAP_T,this.wrapT)},setFilter:function(t,r,n){t&&r?(this.minFilter=t,this.magFilter=r):this.minFilter=this.magFilter=t,this._checkPOT(),n||this.bind();var e=this.gl;e.texParameteri(this.target,e.TEXTURE_MIN_FILTER,this.minFilter),e.texParameteri(this.target,e.TEXTURE_MAG_FILTER,this.magFilter)},uploadData:function(t,r,n,e,i,a){var o=this.gl;n=n||o.RGBA,e=e||o.UNSIGNED_BYTE,i=i||null,this.width=t||0==t?t:this.width,this.height=r||0==r?r:this.height,this._checkPOT(),this.bind(),o.texImage2D(this.target,0,n,this.width,this.height,0,n,e,i),a&&o.generateMipmap(this.target)},uploadImage:function(t,r,n,e){var i=this.gl;r=r||i.RGBA,n=n||i.UNSIGNED_BYTE,this.width=t.width,this.height=t.height,this._checkPOT(),this.bind(),i.texImage2D(this.target,0,r,r,n,t),e&&i.generateMipmap(this.target)},uploadSubImage:function(){},_checkPOT:function(){if(!o.FORCE_POT){var t=this.minFilter!==o.Filter.LINEAR&&this.minFilter!==o.Filter.NEAREST,r=this.wrapS!==o.Wrap.CLAMP_TO_EDGE||this.wrapT!==o.Wrap.CLAMP_TO_EDGE;if((t||r)&&(!i(this.width)||!i(this.height)))throw new Error(t?"Non-power-of-two textures cannot use mipmapping as filter":"Non-power-of-two textures must use CLAMP_TO_EDGE as wrap")}},bind:function(t){var r=this.gl;(t||0===t)&&r.activeTexture(r.TEXTURE0+t),r.bindTexture(this.target,this.id)},toString:function(){return this.id+":"+this.width+"x"+this.height},shape:{get:function(){return this.__shape[0]=this.width,this.__shape[1]=this.height,this.__shape},set:function(t){throw new Error("changing shape not supported")}}});o.Filter={NEAREST:9728,NEAREST_MIPMAP_LINEAR:9986,NEAREST_MIPMAP_NEAREST:9984,LINEAR:9729,LINEAR_MIPMAP_LINEAR:9987,LINEAR_MIPMAP_NEAREST:9985},o.Wrap={CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,REPEAT:10497},o.Format={DEPTH_COMPONENT:6402,ALPHA:6406,RGBA:6408,RGB:6407,LUMINANCE:6409,LUMINANCE_ALPHA:6410},o.DataType={BYTE:5120,SHORT:5122,INT:5124,FLOAT:5126,UNSIGNED_BYTE:5121,UNSIGNED_INT:5125,UNSIGNED_SHORT:5123,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635},o.DEFAULT_WRAP=o.Wrap.CLAMP_TO_EDGE,o.DEFAULT_FILTER=o.Filter.NEAREST,o.FORCE_POT=!1,o.UNPACK_FLIP_Y=!1,o.UNPACK_ALIGNMENT=1,o.UNPACK_PREMULTIPLY_ALPHA=!0,o.UNPACK_COLORSPACE_CONVERSION=void 0,o.USE_DUMMY_1x1_DATA=!0,o.getNumComponents=function(t){switch(t){case o.Format.DEPTH_COMPONENT:case o.Format.ALPHA:case o.Format.LUMINANCE:return 1;case o.Format.LUMINANCE_ALPHA:return 2;case o.Format.RGB:return 3;case o.Format.RGBA:return 4}return null},t.exports=o},function(t,r,n){var e=n(33);function i(t){var r=t&&t.rawgl?t.rawgl:t;return"undefined"!==typeof window.WebGLRenderingContext&&r instanceof window.WebGLRenderingContext?new e(t):t}t.exports.wrapContext=i,t.exports.BaseObject=function(t){if(!t||"object"!==typeof t)throw"valid GL context not specified";this.context=i(t)}},function(t,r){var n=new Int8Array(4),e=new Int32Array(n.buffer,0,1),i=new Float32Array(n.buffer,0,1),a=function(){};a.intBitsToFloat=function(t){return e[0]=t,i[0]},a.floatToIntBits=function(t){return i[0]=t,e[0]},a.intToFloatColor=function(t){return a.intBitsToFloat(4278190079&t)},a.colorToFloat=function(t,r,n,e){return a.intToFloatColor(e<<24|n<<16|r<<8|t)},a.isPowerOfTwo=function(t){return 0===(t&t-1)},a.nextPowerOfTwo=function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,(t|=t>>16)+1},t.exports=a},function(t,r,n){var e=n(43),i=n(18);t.exports=function(t){var r=Array.apply(null,new Array(16)).map(Number.prototype.valueOf,255),n=i(new Uint8Array(r),[2,2,4]);return e(t,n)}},function(t,r,n){"use strict";function e(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,e=new Array(r);n<r;n++)e[n]=t[n];return e}function i(t,r){if(t){if("string"===typeof t)return e(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,r):void 0}}n.d(r,"a",(function(){return i}))},function(t,r,n){var e=n(7),i=n(11).BaseObject,a=new e({dirty:{set:function(t){this.verticesDirty=t,this.indicesDirty=t}},initialize:function(t,r,n,e,a){if(!n)throw"numVerts not specified, must be > 0";i.call(this,t),this.gl=this.context.gl,this.numVerts=null,this.numIndices=null,this.vertices=null,this.indices=null,this.vertexBuffer=null,this.indexBuffer=null,this.verticesDirty=!0,this.indicesDirty=!0,this.indexUsage=null,this.vertexUsage=null,this._vertexAttribs=null,this.vertexStride=null,this.numVerts=n,this.numIndices=e||0,this.vertexUsage=r?this.gl.STATIC_DRAW:this.gl.DYNAMIC_DRAW,this.indexUsage=r?this.gl.STATIC_DRAW:this.gl.DYNAMIC_DRAW,this._vertexAttribs=a||[],this.indicesDirty=!0,this.verticesDirty=!0;for(var o=0,u=0;u<this._vertexAttribs.length;u++)o+=this._vertexAttribs[u].offsetCount;this.vertexStride=4*o,this.vertices=new Float32Array(this.numVerts),this.indices=new Uint16Array(this.numIndices),this.context.addManagedObject(this),this.create()},create:function(){this.gl=this.context.gl;var t=this.gl;this.vertexBuffer=t.createBuffer(),this.indexBuffer=this.numIndices>0?t.createBuffer():null,this.dirty=!0},destroy:function(){this.vertices=null,this.indices=null,this.vertexBuffer&&this.gl&&this.gl.deleteBuffer(this.vertexBuffer),this.indexBuffer&&this.gl&&this.gl.deleteBuffer(this.indexBuffer),this.vertexBuffer=null,this.indexBuffer=null,this.context&&this.context.removeManagedObject(this),this.gl=null,this.context=null},_updateBuffers:function(t,r){var n=this.gl;if(this.numIndices>0&&(t||n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.indexBuffer),this.indicesDirty&&(n.bufferData(n.ELEMENT_ARRAY_BUFFER,this.indices,this.indexUsage),this.indicesDirty=!1)),t||n.bindBuffer(n.ARRAY_BUFFER,this.vertexBuffer),this.verticesDirty){if(r){var e=this.vertices.subarray(0,r);n.bufferSubData(n.ARRAY_BUFFER,0,e)}else n.bufferData(n.ARRAY_BUFFER,this.vertices,this.vertexUsage);this.verticesDirty=!1}},draw:function(t,r,n,e){if(0!==r){var i=this.gl;n=n||0,this._updateBuffers(!0,e),this.numIndices>0?i.drawElements(t,r,i.UNSIGNED_SHORT,2*n):i.drawArrays(t,n,r)}},bind:function(t){var r=this.gl,n=0,e=this.vertexStride;this._updateBuffers();for(var i=0;i<this._vertexAttribs.length;i++){var a=this._vertexAttribs[i],o=null===a.location?t.getAttributeLocation(a.name):a.location;r.enableVertexAttribArray(o),r.vertexAttribPointer(o,a.numComponents,a.type||r.FLOAT,a.normalize,e,n),n+=4*a.offsetCount}},unbind:function(t){for(var r=this.gl,n=0;n<this._vertexAttribs.length;n++){var e=this._vertexAttribs[n],i=null===e.location?t.getAttributeLocation(e.name):e.location;r.disableVertexAttribArray(i)}}});a.Attrib=new e({name:null,numComponents:null,location:null,type:null,initialize:function(t,r,n,e,i,a){this.name=t,this.numComponents=r,this.location="number"===typeof n?n:null,this.type=e,this.normalize=Boolean(i),this.offsetCount="number"===typeof a?a:this.numComponents}}),t.exports=a},function(t,r,n){"use strict";var e=function(t){function r(n,e,i){!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),t.call(this,n),this.listener=e,this.context=i}return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}(r,t),r}(n(40));t.exports=e},function(t,r,n){"use strict";t.exports=function(t,r,n,e,i,a,o,u){if(!t){var s;if(void 0===r)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var h=[n,e,i,a,o,u],c=0;(s=new Error(r.replace(/%s/g,(function(){return h[c++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},function(t,r,n){var e=n(44),i=n(45),a="undefined"!==typeof Float64Array;function o(t,r){return t[0]-r[0]}function u(){var t,r=this.stride,n=new Array(r.length);for(t=0;t<n.length;++t)n[t]=[Math.abs(r[t]),t];n.sort(o);var e=new Array(n.length);for(t=0;t<e.length;++t)e[t]=n[t][1];return e}function s(t,r){var n=["View",r,"d",t].join("");r<0&&(n="View_Nil"+t);var i="generic"===t;if(-1===r){var a="function "+n+"(a){this.data=a;};var proto="+n+".prototype;proto.dtype='"+t+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+n+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+n+"(a){return new "+n+"(a);}";return new Function(a)()}if(0===r){a="function "+n+"(a,d) {this.data = a;this.offset = d};var proto="+n+".prototype;proto.dtype='"+t+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+n+"_copy() {return new "+n+"(this.data,this.offset)};proto.pick=function "+n+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+n+"_get(){return "+(i?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+n+"_set(v){return "+(i?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+n+"(a,b,c,d){return new "+n+"(a,d)}";return new Function("TrivialArray",a)(h[t][0])}a=["'use strict'"];var o=e(r),s=o.map((function(t){return"i"+t})),c="this.offset+"+o.map((function(t){return"this.stride["+t+"]*i"+t})).join("+"),f=o.map((function(t){return"b"+t})).join(","),l=o.map((function(t){return"c"+t})).join(",");a.push("function "+n+"(a,"+f+","+l+",d){this.data=a","this.shape=["+f+"]","this.stride=["+l+"]","this.offset=d|0}","var proto="+n+".prototype","proto.dtype='"+t+"'","proto.dimension="+r),a.push("Object.defineProperty(proto,'size',{get:function "+n+"_size(){return "+o.map((function(t){return"this.shape["+t+"]"})).join("*"),"}})"),1===r?a.push("proto.order=[0]"):(a.push("Object.defineProperty(proto,'order',{get:"),r<4?(a.push("function "+n+"_order(){"),2===r?a.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===r&&a.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):a.push("ORDER})")),a.push("proto.set=function "+n+"_set("+s.join(",")+",v){"),i?a.push("return this.data.set("+c+",v)}"):a.push("return this.data["+c+"]=v}"),a.push("proto.get=function "+n+"_get("+s.join(",")+"){"),i?a.push("return this.data.get("+c+")}"):a.push("return this.data["+c+"]}"),a.push("proto.index=function "+n+"_index(",s.join(),"){return "+c+"}"),a.push("proto.hi=function "+n+"_hi("+s.join(",")+"){return new "+n+"(this.data,"+o.map((function(t){return["(typeof i",t,"!=='number'||i",t,"<0)?this.shape[",t,"]:i",t,"|0"].join("")})).join(",")+","+o.map((function(t){return"this.stride["+t+"]"})).join(",")+",this.offset)}");var d=o.map((function(t){return"a"+t+"=this.shape["+t+"]"})),p=o.map((function(t){return"c"+t+"=this.stride["+t+"]"}));a.push("proto.lo=function "+n+"_lo("+s.join(",")+"){var b=this.offset,d=0,"+d.join(",")+","+p.join(","));for(var g=0;g<r;++g)a.push("if(typeof i"+g+"==='number'&&i"+g+">=0){d=i"+g+"|0;b+=c"+g+"*d;a"+g+"-=d}");a.push("return new "+n+"(this.data,"+o.map((function(t){return"a"+t})).join(",")+","+o.map((function(t){return"c"+t})).join(",")+",b)}"),a.push("proto.step=function "+n+"_step("+s.join(",")+"){var "+o.map((function(t){return"a"+t+"=this.shape["+t+"]"})).join(",")+","+o.map((function(t){return"b"+t+"=this.stride["+t+"]"})).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(g=0;g<r;++g)a.push("if(typeof i"+g+"==='number'){d=i"+g+"|0;if(d<0){c+=b"+g+"*(a"+g+"-1);a"+g+"=ceil(-a"+g+"/d)}else{a"+g+"=ceil(a"+g+"/d)}b"+g+"*=d}");a.push("return new "+n+"(this.data,"+o.map((function(t){return"a"+t})).join(",")+","+o.map((function(t){return"b"+t})).join(",")+",c)}");var v=new Array(r),m=new Array(r);for(g=0;g<r;++g)v[g]="a[i"+g+"]",m[g]="b[i"+g+"]";a.push("proto.transpose=function "+n+"_transpose("+s+"){"+s.map((function(t,r){return t+"=("+t+"===undefined?"+r+":"+t+"|0)"})).join(";"),"var a=this.shape,b=this.stride;return new "+n+"(this.data,"+v.join(",")+","+m.join(",")+",this.offset)}"),a.push("proto.pick=function "+n+"_pick("+s+"){var a=[],b=[],c=this.offset");for(g=0;g<r;++g)a.push("if(typeof i"+g+"==='number'&&i"+g+">=0){c=(c+this.stride["+g+"]*i"+g+")|0}else{a.push(this.shape["+g+"]);b.push(this.stride["+g+"])}");return a.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),a.push("return function construct_"+n+"(data,shape,stride,offset){return new "+n+"(data,"+o.map((function(t){return"shape["+t+"]"})).join(",")+","+o.map((function(t){return"stride["+t+"]"})).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",a.join("\n"))(h[t],u)}var h={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};t.exports=function(t,r,n,e){if(void 0===t)return(0,h.array[0])([]);"number"===typeof t&&(t=[t]),void 0===r&&(r=[t.length]);var o=r.length;if(void 0===n){n=new Array(o);for(var u=o-1,c=1;u>=0;--u)n[u]=c,c*=r[u]}if(void 0===e){e=0;for(u=0;u<o;++u)n[u]<0&&(e-=(r[u]-1)*n[u])}for(var f=function(t){if(i(t))return"buffer";if(a)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(t)?"array":"generic"}(t),l=h[f];l.length<=o+1;)l.push(s(f,l.length-1));return(0,l[o+1])(t,r,n,e)}},function(t,r){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"===typeof window&&(n=window)}t.exports=n},function(t,r,n){var e=n(7),i=n(15),a=n(34),o=n(37),u=n(59).mat4,s=new e({Mixins:o,initialize:function t(r,n){if(!(this instanceof t))return new t(r,n);o.call(this,r,n),this.projection=u.create(),this.texture=null},resize:function(t,r){this.setProjection(t/2,r/2)},getVertexSize:function(){return s.VERTEX_SIZE},_createVertexAttributes:function(){var t=this.context.gl;return[new i.Attrib(a.POSITION_ATTRIBUTE,2),new i.Attrib(a.COLOR_ATTRIBUTE,4,null,t.UNSIGNED_BYTE,!0,1),new i.Attrib(a.TEXCOORD_ATTRIBUTE+"0",2)]},setProjection:function(t){this.projection=t,!this.drawing||x==oldX&&y==oldY||(this.flush(),this.updateMatrices())},_createShader:function(){var t=new a(this.context,s.DEFAULT_VERT_SHADER,s.DEFAULT_FRAG_SHADER);return t.log&&console.warn("Shader Log:\n"+t.log),t},updateMatrices:function(){this.shader.setUniformMatrix4("u_projection",this.projection)},_preRender:function(){this.texture&&this.texture.bind()},begin:function(){var t=this.context.gl;o.prototype.begin.call(this),this.updateMatrices(),this.shader.setUniformi("u_texture0",0),t.depthMask(!1)},end:function(){var t=this.context.gl;o.prototype.end.call(this),t.depthMask(!0)},flush:function(){this.texture&&0!==this.idx&&(o.prototype.flush.call(this),s.totalRenderCalls++)},drawRegion:function(t,r,n,e,i){this.draw(t.texture,r,n,e,i,t.u,t.v,t.u2,t.v2)},draw:function(t,r,n,e,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:1,c=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,f=arguments.length>11&&void 0!==arguments[11]?arguments[11]:0,l=arguments.length>12&&void 0!==arguments[12]?arguments[12]:1,d=arguments.length>13&&void 0!==arguments[13]?arguments[13]:1;if(!this.drawing)throw"Illegal State: trying to draw a batch before begin()";if(t){null===this.texture||this.texture.id!==t.id?(this.flush(),this.texture=t):this.idx==this.vertices.length&&this.flush(),r=r||0,n=n||0;var p=-a,g=(e=0===e?e:e||t.width)-a,v=e-a,m=-a,y=-o,b=-o,_=(i=0===i?i:i||t.height)-o,M=i-o,w=this.color;if(1!==s&&(p*=s,g*=s,v*=s,m*=s),1!==h&&(y*=h,b*=h,_*=h,M*=h),0!==u){var E=Math.cos(u),x=Math.sin(u),A=E*p-x*y,T=x*p+E*y,R=E*g-x*b,I=x*g+E*b,S=E*v-x*_,P=x*v+E*_,U=E*m-x*M,L=x*m+E*M;p=A,g=R,v=S,m=U,y=T,b=I,_=P,M=L}p+=r+a,g+=r+a,v+=r+a,m+=r+a,y+=n+o,b+=n+o,_+=n+o,M+=n+o,this.vertices[this.idx++]=p,this.vertices[this.idx++]=y,this.vertices[this.idx++]=w,this.vertices[this.idx++]=c,this.vertices[this.idx++]=f,this.vertices[this.idx++]=g,this.vertices[this.idx++]=b,this.vertices[this.idx++]=w,this.vertices[this.idx++]=l,this.vertices[this.idx++]=f,this.vertices[this.idx++]=v,this.vertices[this.idx++]=_,this.vertices[this.idx++]=w,this.vertices[this.idx++]=l,this.vertices[this.idx++]=d,this.vertices[this.idx++]=m,this.vertices[this.idx++]=M,this.vertices[this.idx++]=w,this.vertices[this.idx++]=c,this.vertices[this.idx++]=d}},drawVertices:function(t,r,n){if(!this.drawing)throw"Illegal State: trying to draw a batch before begin()";t&&(this.texture!=t?(this.flush(),this.texture=t):this.idx==this.vertices.length&&this.flush(),n=n||0,this.vertices[this.idx++]=r[n++],this.vertices[this.idx++]=r[n++],this.vertices[this.idx++]=r[n++],this.vertices[this.idx++]=r[n++],this.vertices[this.idx++]=r[n++],this.vertices[this.idx++]=r[n++],this.vertices[this.idx++]=r[n++],this.vertices[this.idx++]=r[n++],this.vertices[this.idx++]=r[n++],this.vertices[this.idx++]=r[n++],this.vertices[this.idx++]=r[n++],this.vertices[this.idx++]=r[n++],this.vertices[this.idx++]=r[n++],this.vertices[this.idx++]=r[n++],this.vertices[this.idx++]=r[n++],this.vertices[this.idx++]=r[n++],this.vertices[this.idx++]=r[n++],this.vertices[this.idx++]=r[n++],this.vertices[this.idx++]=r[n++],this.vertices[this.idx++]=r[n++])}});s.VERTEX_SIZE=5,s.totalRenderCalls=0,s.DEFAULT_FRAG_SHADER=["precision mediump float;","varying vec2 vTexCoord0;","varying vec4 vColor;","uniform sampler2D u_texture0;","void main(void) {","   gl_FragColor = texture2D(u_texture0, vTexCoord0) * vColor;","}"].join("\n"),s.DEFAULT_VERT_SHADER=["attribute vec4 "+a.POSITION_ATTRIBUTE+";","attribute vec4 "+a.COLOR_ATTRIBUTE+";","attribute vec2 "+a.TEXCOORD_ATTRIBUTE+"0;","uniform mat4 u_projection;","varying vec2 vTexCoord0;","varying vec4 vColor;","void main(void) {","   gl_Position =  u_projection * "+a.POSITION_ATTRIBUTE+";","   vTexCoord0 = "+a.TEXCOORD_ATTRIBUTE+"0;","   vColor = "+a.COLOR_ATTRIBUTE+";","   vColor.a = vColor.a * (256.0/255.0);","}"].join("\n"),t.exports=s},function(t,r,n){var e={EventEmitter:n(39),EmitterSubscription:n(16)};t.exports=e},,,,,,,,,,function(t,r,n){var e=function(t){"use strict";var r=Object.prototype,n=r.hasOwnProperty,e="function"===typeof Symbol?Symbol:{},i=e.iterator||"@@iterator",a=e.asyncIterator||"@@asyncIterator",o=e.toStringTag||"@@toStringTag";function u(t,r,n,e){var i=r&&r.prototype instanceof c?r:c,a=Object.create(i.prototype),o=new w(e||[]);return a._invoke=function(t,r,n){var e="suspendedStart";return function(i,a){if("executing"===e)throw new Error("Generator is already running");if("completed"===e){if("throw"===i)throw a;return x()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=b(o,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===e)throw e="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);e="executing";var c=s(t,r,n);if("normal"===c.type){if(e=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(e="completed",n.method="throw",n.arg=c.arg)}}}(t,n,o),a}function s(t,r,n){try{return{type:"normal",arg:t.call(r,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var h={};function c(){}function f(){}function l(){}var d={};d[i]=function(){return this};var p=Object.getPrototypeOf,g=p&&p(p(E([])));g&&g!==r&&n.call(g,i)&&(d=g);var v=l.prototype=c.prototype=Object.create(d);function m(t){["next","throw","return"].forEach((function(r){t[r]=function(t){return this._invoke(r,t)}}))}function y(t,r){var e;this._invoke=function(i,a){function o(){return new r((function(e,o){!function e(i,a,o,u){var h=s(t[i],t,a);if("throw"!==h.type){var c=h.arg,f=c.value;return f&&"object"===typeof f&&n.call(f,"__await")?r.resolve(f.__await).then((function(t){e("next",t,o,u)}),(function(t){e("throw",t,o,u)})):r.resolve(f).then((function(t){c.value=t,o(c)}),(function(t){return e("throw",t,o,u)}))}u(h.arg)}(i,a,e,o)}))}return e=e?e.then(o,o):o()}}function b(t,r){var n=t.iterator[r.method];if(void 0===n){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=void 0,b(t,r),"throw"===r.method))return h;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var e=s(n,t.iterator,r.arg);if("throw"===e.type)return r.method="throw",r.arg=e.arg,r.delegate=null,h;var i=e.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function _(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function M(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function w(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function E(t){if(t){var r=t[i];if(r)return r.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var e=-1,a=function r(){for(;++e<t.length;)if(n.call(t,e))return r.value=t[e],r.done=!1,r;return r.value=void 0,r.done=!0,r};return a.next=a}}return{next:x}}function x(){return{value:void 0,done:!0}}return f.prototype=v.constructor=l,l.constructor=f,l[o]=f.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var r="function"===typeof t&&t.constructor;return!!r&&(r===f||"GeneratorFunction"===(r.displayName||r.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,o in t||(t[o]="GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},m(y.prototype),y.prototype[a]=function(){return this},t.AsyncIterator=y,t.async=function(r,n,e,i,a){void 0===a&&(a=Promise);var o=new y(u(r,n,e,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},m(v),v[o]="Generator",v[i]=function(){return this},v.toString=function(){return"[object Generator]"},t.keys=function(t){var r=[];for(var n in t)r.push(n);return r.reverse(),function n(){for(;r.length;){var e=r.pop();if(e in t)return n.value=e,n.done=!1,n}return n.done=!0,n}},t.values=E,w.prototype={constructor:w,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function e(n,e){return o.type="throw",o.arg=t,r.next=n,e&&(r.method="next",r.arg=void 0),!!e}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return e("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return e(a.catchLoc,!0);if(this.prev<a.finallyLoc)return e(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return e(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return e(a.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=r,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),h},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),h}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var e=n.completion;if("throw"===e.type){var i=e.arg;M(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:E(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}(t.exports);try{regeneratorRuntime=e}catch(i){Function("r","regeneratorRuntime = r")(e)}},,function(t,r,n){var e=new(n(7))({initialize:function(t){this.gl=t},addManagedObject:function(t){},removeManagedObject:function(t){},width:{get:function(){return this.gl.canvas.width},set:function(t){this.gl.canvas.width=t}},height:{get:function(){return this.gl.canvas.height},set:function(t){this.gl.canvas.height=t}}});t.exports=e},function(t,r,n){var e=n(7),i=n(35),a=n(11).wrapContext,o=new e({initialize:function(t,r,n,e){if(!r||!n)throw"vertex and fragment shaders must be defined";if(!t||"object"!==typeof t)throw"valid GL context not specified to ShaderProgram";this.context=a(t),this.vertShader=null,this.fragShader=null,this.program=null,this.log="",this.uniformCache=null,this.attributeCache=null,this.attributeLocations=e,this.vertSource=r.trim(),this.fragSource=n.trim(),this.context.addManagedObject(this),this.create()},create:function(){this.gl=this.context.gl,this._compileShaders()},_compileShaders:function(){var t=this.gl,r=i({gl:t,vertex:this.vertSource,fragment:this.fragSource,verbose:o.VERBOSE_COMPILE,attributeLocations:this.attributeLocations});this.log=r.log,this.program=r.program,this.vertShader=r.vertex,this.fragShader=r.fragment,o.VERBOSE_COMPILE&&this.log&&console.warn(this.log),this._fetchUniforms(),this._fetchAttributes()},_fetchUniforms:function(){var t=this.gl;this.uniformCache={};var r=t.getProgramParameter(this.program,t.ACTIVE_UNIFORMS);if(r)for(var n=0;n<r;n++){var e=t.getActiveUniform(this.program,n);if(null!==e){var i=e.name,a=t.getUniformLocation(this.program,i);this.uniformCache[i]={size:e.size,type:e.type,location:a}}}},_fetchAttributes:function(){var t=this.gl;this.attributeCache={};var r=t.getProgramParameter(this.program,t.ACTIVE_ATTRIBUTES);if(r)for(var n=0;n<r;n++){var e=t.getActiveAttrib(this.program,n);if(null!==e){var i=e.name,a=t.getAttribLocation(this.program,i);this.attributeCache[i]={size:e.size,type:e.type,location:a}}}},bind:function(){this.gl.useProgram(this.program)},destroy:function(){if(this.context&&this.context.removeManagedObject(this),this.gl&&this.program){var t=this.gl;t.detachShader(this.program,this.vertShader),t.detachShader(this.program,this.fragShader),t.deleteShader(this.vertShader),t.deleteShader(this.fragShader),t.deleteProgram(this.program)}this.attributeCache=null,this.uniformCache=null,this.vertShader=null,this.fragShader=null,this.program=null,this.gl=null,this.context=null},getUniformInfo:function(t){return this.uniformCache[t]||null},getAttributeInfo:function(t){return this.attributeCache[t]||null},getAttributeLocation:function(t){var r=this.getAttributeInfo(t);return r?r.location:null},getUniformLocation:function(t){var r=this.getUniformInfo(t);return r?r.location:null},hasUniform:function(t){return null!==this.getUniformInfo(t)},hasAttribute:function(t){return null!==this.getAttributeInfo(t)},getUniform:function(t){return this.gl.getUniform(this.program,this.getUniformLocation(t))},getUniformAt:function(t){return this.gl.getUniform(this.program,t)},setUniformi:function(t,r,n,e,i){"use strict";var a=this.gl,o=this.getUniformLocation(t);if(null===o)return!1;switch(arguments.length){case 2:return a.uniform1i(o,r),!0;case 3:return a.uniform2i(o,r,n),!0;case 4:return a.uniform3i(o,r,n,e),!0;case 5:return a.uniform4i(o,r,n,e,i),!0;default:throw"invalid arguments to setUniformi"}},setUniformf:function(t,r,n,e,i){"use strict";var a=this.gl,o=this.getUniformLocation(t);if(null===o)return!1;switch(arguments.length){case 2:return a.uniform1f(o,r),!0;case 3:return a.uniform2f(o,r,n),!0;case 4:return a.uniform3f(o,r,n,e),!0;case 5:return a.uniform4f(o,r,n,e,i),!0;default:throw"invalid arguments to setUniformf"}},setUniformfv:function(t,r,n){"use strict";n=n||r.length;var e=this.gl,i=this.getUniformLocation(t);if(null===i)return!1;switch(n){case 1:return e.uniform1fv(i,r),!0;case 2:return e.uniform2fv(i,r),!0;case 3:return e.uniform3fv(i,r),!0;case 4:return e.uniform4fv(i,r),!0;default:throw"invalid arguments to setUniformf"}},setUniformiv:function(t,r,n){"use strict";n=n||r.length;var e=this.gl,i=this.getUniformLocation(t);if(null===i)return!1;switch(n){case 1:return e.uniform1iv(i,r),!0;case 2:return e.uniform2iv(i,r),!0;case 3:return e.uniform3iv(i,r),!0;case 4:return e.uniform4iv(i,r),!0;default:throw"invalid arguments to setUniformf"}},setUniformMatrix3:function(t,r,n){"use strict";var e="object"===typeof r&&r.val?r.val:r;n=!!n;var i=this.gl,a=this.getUniformLocation(t);if(null===a)return!1;i.uniformMatrix3fv(a,n,e)},setUniformMatrix4:function(t,r,n){"use strict";var e="object"===typeof r&&r.val?r.val:r;n=!!n;var i=this.gl,a=this.getUniformLocation(t);if(null===a)return!1;i.uniformMatrix4fv(a,n,e)}});o.POSITION_ATTRIBUTE="Position",o.NORMAL_ATTRIBUTE="Normal",o.COLOR_ATTRIBUTE="Color",o.TEXCOORD_ATTRIBUTE="TexCoord",o.VERBOSE_COMPILE=!0,t.exports=o},function(t,r,n){var e=n(36);function i(t,r,n,e){var i=t.createShader(r);if(!i)return-1;t.shaderSource(i,n),t.compileShader(i);var o=r===t.VERTEX_SHADER?"vertex":"fragment",u=t.getShaderInfoLog(i)||"";if(!t.getShaderParameter(i,t.COMPILE_STATUS))throw e&&(console.error("Shader error:\n"+u),console.error("Problematic "+o+" shader:\n"+a(n))),new Error("Could not compile "+o+" shader:\n"+u);if(!i)throw new Error("gl.createShader returned 0 for "+o+" shader.\n"+u);return{shader:i,log:u}}function a(t){for(var r=t.split("\n"),n=0;n<r.length;n++)r[n]=n+1+": "+r[n];return r.join("\n")}t.exports=function(t){if(!t||!t.vertex||!t.fragment)throw"must specify 'vertex' and 'fragment' source";var r=t.vertex.trim(),n=t.fragment.trim(),o=t.gl;if(!o&&!(o=e()))throw new Error("WebGL not supported -- try another browser");return function(t,r,n,e,o){var u="",s=i(t,t.VERTEX_SHADER,r,o),h=i(t,t.FRAGMENT_SHADER,n,o),c=s.shader,f=h.shader;u+=s.log+"\n"+h.log;var l=t.createProgram();if(t.attachShader(l,c),t.attachShader(l,f),e)for(var d in e)e.hasOwnProperty(d)&&t.bindAttribLocation(l,Math.floor(e[d]),d);if(t.linkProgram(l),u+=t.getProgramInfoLog(l)||"",!t.getProgramParameter(l,t.LINK_STATUS))throw o&&(console.error("Shader error:\n"+u),console.error("Problematic shaders:\nVERTEX_SHADER:\n"+a(r)+"\n\nFRAGMENT_SHADER:\n"+a(n))),t.detachShader(l,c),t.detachShader(l,f),t.deleteShader(c),t.deleteShader(f),new Error("Error linking the shader program:\n"+u);return{program:l,vertex:c,fragment:f,log:u.trim()}}(o,r,n,t.attributeLocations,t.verbose)}},function(t,r){t.exports=function(t){var r=(t=t||{}).canvas||document.createElement("canvas");"number"===typeof t.width&&(r.width=t.width),"number"===typeof t.height&&(r.height=t.height);var n=t.attributes||t.attribs||{};try{gl=r.getContext("webgl",n)||r.getContext("experimental-webgl",n)}catch(e){gl=null}return gl}},function(t,r,n){var e=n(7),i=n(15),a=n(11).BaseObject,o=(n(12).colorToFloat,n(38)),u=new e({Mixins:o,initialize:function(t,r){a.call(this,t),r=r||{};var n=this._createShader();this.idx=0,this.mesh=this._createMesh(r.size),o.call(this,this.context.gl,n)},_createMesh:function(t){if((t=t||500)>10922)throw"Can't have more than 10922 sprites per batch: "+t;var r=4*t*this.getVertexSize(),n=6*t,e=this.context.gl;this.vertices=new Float32Array(r),this.indices=new Uint16Array(n);for(var a=0,o=0;a<n;a+=6,o+=4)this.indices[a+0]=o+0,this.indices[a+1]=o+1,this.indices[a+2]=o+2,this.indices[a+3]=o+0,this.indices[a+4]=o+2,this.indices[a+5]=o+3;var u=new i(this.context,!1,r,n,this._createVertexAttributes());return u.vertices=this.vertices,u.indices=this.indices,u.vertexUsage=e.DYNAMIC_DRAW,u.indexUsage=e.STATIC_DRAW,u.dirty=!0,u},_createShader:function(){throw"_createShader not implemented"},_createVertexAttributes:function(){throw"_createVertexAttributes not implemented"},getVertexSize:function(){throw"getVertexSize not implemented"},begin:function(){if(this.drawing)throw"batch.end() must be called before begin";if(this.drawing=!0,this.shader.bind(),this.mesh.bind(this.shader),this._blendingEnabled){var t=this.context.gl;t.enable(t.BLEND)}},end:function(){if(!this.drawing)throw"batch.begin() must be called before end";if(this.idx>0&&this.flush(),this.drawing=!1,this.mesh.unbind(this.shader),this._blendingEnabled){var t=this.context.gl;t.disable(t.BLEND)}},_preRender:function(){},flush:function(){if(0!==this.idx){var t=this.context.gl;this._blendingEnabled&&this._blendSrc&&this._blendDst&&t.blendFunc(this._blendSrc,this._blendDst),this._preRender();var r=this.getVertexSize(),n=this.idx/(4*r);this.mesh.verticesDirty=!0,this.mesh.draw(t.TRIANGLES,6*n,0,this.idx),this.idx=0}},destroy:function(){this.vertices=null,this.indices=null,this.maxVertices=0,this.ownsShader&&this.defaultShader&&this.defaultShader.destroy(),this.defaultShader=null,this._shader=null,this.mesh&&this.mesh.destroy(),this.mesh=null}});t.exports=u},function(t,r,n){var e=n(12).colorToFloat,i=n(7);t.exports=new i({initialize:function(t,r){this._blendSrc=t.ONE,this._blendDst=t.ONE_MINUS_SRC_ALPHA,this._blendingEnabled=!0,this._shader=r,this.defaultShader=this._shader,this.ownsShader=!0,this.drawing=!1,this.color=e(255,255,255,255),this.premultiplied=!0},blendingEnabled:{set:function(t){var r=this._blendingEnabled;if(this.drawing&&this.flush(),this._blendingEnabled=t,this.drawing&&r!=t){var n=this.context.gl;t?n.enable(n.BLEND):n.disable(n.BLEND)}},get:function(){return this._blendingEnabled}},blendSrc:{set:function(t){this.drawing&&this.flush(),this._blendSrc=t},get:function(){return this._blendSrc}},blendDst:{set:function(t){this.drawing&&this.flush(),this._blendDst=t},get:function(){return this._blendDst}},setBlendFunction:function(t,r){this.blendSrc=t,this.blendDst=r},shader:{set:function(t){var r=this.drawing;r&&this.end(),this._shader=t||this.defaultShader,r&&this.begin()},get:function(){return this._shader}},setColor:function(t,r,n,i){var a="number"===typeof t;a&&"number"===typeof r&&"number"===typeof n?i="number"===typeof i?i:1:t=r=n=i=a?t:1,this.premultiplied&&(t*=i,r*=i,n*=i),this.color=e(~~(255*t),~~(255*r),~~(255*n),~~(255*i))}})},function(t,r,n){"use strict";var e=n(16),i=n(41),a=n(42),o=n(17),u=function(){function t(){!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),this._subscriber=new i,this._currentSubscription=null}return t.prototype.addListener=function(t,r,n){return this._subscriber.addSubscription(t,new e(this._subscriber,r,n))},t.prototype.once=function(t,r,n){var e=this;return this.addListener(t,(function(){e.removeCurrentListener(),r.apply(n,arguments)}))},t.prototype.removeAllListeners=function(t){this._subscriber.removeAllSubscriptions(t)},t.prototype.removeCurrentListener=function(){this._currentSubscription||o(!1),this._subscriber.removeSubscription(this._currentSubscription)},t.prototype.listeners=function(t){var r=this._subscriber.getSubscriptionsForType(t);return r?r.filter(a.thatReturnsTrue).map((function(t){return t.listener})):[]},t.prototype.emit=function(t){var r=this._subscriber.getSubscriptionsForType(t);if(r){for(var n=Object.keys(r),e=0;e<n.length;e++){var i=n[e],a=r[i];a&&(this._currentSubscription=a,this.__emitToSubscription.apply(this,[a].concat(Array.prototype.slice.call(arguments))))}this._currentSubscription=null}},t.prototype.__emitToSubscription=function(t,r){var n=Array.prototype.slice.call(arguments,2);t.listener.apply(t.context,n)},t}();t.exports=u},function(t,r,n){"use strict";var e=function(){function t(r){!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),this.subscriber=r}return t.prototype.remove=function(){this.subscriber&&(this.subscriber.removeSubscription(this),this.subscriber=null)},t}();t.exports=e},function(t,r,n){"use strict";var e=n(17),i=function(){function t(){!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),this._subscriptionsForType={},this._currentSubscription=null}return t.prototype.addSubscription=function(t,r){r.subscriber!==this&&e(!1),this._subscriptionsForType[t]||(this._subscriptionsForType[t]=[]);var n=this._subscriptionsForType[t].length;return this._subscriptionsForType[t].push(r),r.eventType=t,r.key=n,r},t.prototype.removeAllSubscriptions=function(t){void 0===t?this._subscriptionsForType={}:delete this._subscriptionsForType[t]},t.prototype.removeSubscription=function(t){var r=t.eventType,n=t.key,e=this._subscriptionsForType[r];e&&delete e[n]},t.prototype.getSubscriptionsForType=function(t){return this._subscriptionsForType[t]},t}();t.exports=i},function(t,r,n){"use strict";function e(t){return function(){return t}}var i=function(){};i.thatReturns=e,i.thatReturnsFalse=e(!1),i.thatReturnsTrue=e(!0),i.thatReturnsNull=e(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(t){return t},t.exports=i},function(t,r,n){"use strict";var e=n(18),i=n(46),a=n(51);t.exports=function(t){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");o||h(t);if("number"===typeof arguments[1])return m(t,arguments[1],arguments[2],arguments[3]||t.RGBA,arguments[4]||t.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return m(t,0|arguments[1][0],0|arguments[1][1],arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if("object"===typeof arguments[1]){var r=arguments[1],n=c(r)?r:r.raw;if(n)return y(t,n,0|r.width,0|r.height,arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if(r.shape&&r.data&&r.stride)return b(t,r)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var o=null,u=null,s=null;function h(t){o=[t.LINEAR,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_NEAREST],u=[t.NEAREST,t.LINEAR,t.NEAREST_MIPMAP_NEAREST,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_LINEAR],s=[t.REPEAT,t.CLAMP_TO_EDGE,t.MIRRORED_REPEAT]}function c(t){return"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement||"undefined"!=typeof ImageData&&t instanceof ImageData}var f=function(t,r){i.muls(t,r,255)};function l(t,r,n){var e=t.gl,i=e.getParameter(e.MAX_TEXTURE_SIZE);if(r<0||r>i||n<0||n>i)throw new Error("gl-texture2d: Invalid texture size");return t._shape=[r,n],t.bind(),e.texImage2D(e.TEXTURE_2D,0,t.format,r,n,0,t.format,t.type,null),t._mipLevels=[0],t}function d(t,r,n,e,i,a){this.gl=t,this.handle=r,this.format=i,this.type=a,this._shape=[n,e],this._mipLevels=[0],this._magFilter=t.NEAREST,this._minFilter=t.NEAREST,this._wrapS=t.CLAMP_TO_EDGE,this._wrapT=t.CLAMP_TO_EDGE,this._anisoSamples=1;var o=this,u=[this._wrapS,this._wrapT];Object.defineProperties(u,[{get:function(){return o._wrapS},set:function(t){return o.wrapS=t}},{get:function(){return o._wrapT},set:function(t){return o.wrapT=t}}]),this._wrapVector=u;var s=[this._shape[0],this._shape[1]];Object.defineProperties(s,[{get:function(){return o._shape[0]},set:function(t){return o.width=t}},{get:function(){return o._shape[1]},set:function(t){return o.height=t}}]),this._shapeVector=s}var p=d.prototype;function g(t,r){return 3===t.length?1===r[2]&&r[1]===t[0]*t[2]&&r[0]===t[2]:1===r[0]&&r[1]===t[0]}function v(t){var r=t.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),r}function m(t,r,n,e,i){var a=t.getParameter(t.MAX_TEXTURE_SIZE);if(r<0||r>a||n<0||n>a)throw new Error("gl-texture2d: Invalid texture shape");if(i===t.FLOAT&&!t.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var o=v(t);return t.texImage2D(t.TEXTURE_2D,0,e,r,n,0,e,i,null),new d(t,o,r,n,e,i)}function y(t,r,n,e,i,a){var o=v(t);return t.texImage2D(t.TEXTURE_2D,0,i,i,a,r),new d(t,o,n,e,i,a)}function b(t,r){var n=r.dtype,o=r.shape.slice(),u=t.getParameter(t.MAX_TEXTURE_SIZE);if(o[0]<0||o[0]>u||o[1]<0||o[1]>u)throw new Error("gl-texture2d: Invalid texture size");var s=g(o,r.stride.slice()),h=0;"float32"===n?h=t.FLOAT:"float64"===n?(h=t.FLOAT,s=!1,n="float32"):"uint8"===n?h=t.UNSIGNED_BYTE:(h=t.UNSIGNED_BYTE,s=!1,n="uint8");var c,l,p=0;if(2===o.length)p=t.LUMINANCE,o=[o[0],o[1],1],r=e(r.data,o,[r.stride[0],r.stride[1],1],r.offset);else{if(3!==o.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===o[2])p=t.ALPHA;else if(2===o[2])p=t.LUMINANCE_ALPHA;else if(3===o[2])p=t.RGB;else{if(4!==o[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");p=t.RGBA}}h!==t.FLOAT||t.getExtension("OES_texture_float")||(h=t.UNSIGNED_BYTE,s=!1);var m=r.size;if(s)c=0===r.offset&&r.data.length===m?r.data:r.data.subarray(r.offset,r.offset+m);else{var y=[o[2],o[2]*o[0],1];l=a.malloc(m,n);var b=e(l,o,y,0);"float32"!==n&&"float64"!==n||h!==t.UNSIGNED_BYTE?i.assign(b,r):f(b,r),c=l.subarray(0,m)}var _=v(t);return t.texImage2D(t.TEXTURE_2D,0,p,o[0],o[1],0,p,h,c),s||a.free(l),new d(t,_,o[0],o[1],p,h)}Object.defineProperties(p,{minFilter:{get:function(){return this._minFilter},set:function(t){this.bind();var r=this.gl;if(this.type===r.FLOAT&&o.indexOf(t)>=0&&(r.getExtension("OES_texture_float_linear")||(t=r.NEAREST)),u.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,t),this._minFilter=t}},magFilter:{get:function(){return this._magFilter},set:function(t){this.bind();var r=this.gl;if(this.type===r.FLOAT&&o.indexOf(t)>=0&&(r.getExtension("OES_texture_float_linear")||(t=r.NEAREST)),u.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,t),this._magFilter=t}},mipSamples:{get:function(){return this._anisoSamples},set:function(t){var r=this._anisoSamples;if(this._anisoSamples=0|Math.max(t,1),r!==this._anisoSamples){var n=this.gl.getExtension("EXT_texture_filter_anisotropic");n&&this.gl.texParameterf(this.gl.TEXTURE_2D,n.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(t){if(this.bind(),s.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,t),this._wrapS=t}},wrapT:{get:function(){return this._wrapT},set:function(t){if(this.bind(),s.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,t),this._wrapT=t}},wrap:{get:function(){return this._wrapVector},set:function(t){if(Array.isArray(t)||(t=[t,t]),2!==t.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var r=0;r<2;++r)if(s.indexOf(t[r])<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);this._wrapS=t[0],this._wrapT=t[1];var n=this.gl;return this.bind(),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this._wrapS),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this._wrapT),t}},shape:{get:function(){return this._shapeVector},set:function(t){if(Array.isArray(t)){if(2!==t.length)throw new Error("gl-texture2d: Invalid texture shape")}else t=[0|t,0|t];return l(this,0|t[0],0|t[1]),[0|t[0],0|t[1]]}},width:{get:function(){return this._shape[0]},set:function(t){return l(this,t|=0,this._shape[1]),t}},height:{get:function(){return this._shape[1]},set:function(t){return t|=0,l(this,this._shape[0],t),t}}}),p.bind=function(t){var r=this.gl;return void 0!==t&&r.activeTexture(r.TEXTURE0+(0|t)),r.bindTexture(r.TEXTURE_2D,this.handle),void 0!==t?0|t:r.getParameter(r.ACTIVE_TEXTURE)-r.TEXTURE0},p.dispose=function(){this.gl.deleteTexture(this.handle)},p.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var t=Math.min(this._shape[0],this._shape[1]),r=0;t>0;++r,t>>>=1)this._mipLevels.indexOf(r)<0&&this._mipLevels.push(r)},p.setPixels=function(t,r,n,o){var u=this.gl;this.bind(),Array.isArray(r)?(o=n,n=0|r[1],r=0|r[0]):(r=r||0,n=n||0),o=o||0;var s=c(t)?t:t.raw;if(s){this._mipLevels.indexOf(o)<0?(u.texImage2D(u.TEXTURE_2D,0,this.format,this.format,this.type,s),this._mipLevels.push(o)):u.texSubImage2D(u.TEXTURE_2D,o,r,n,this.format,this.type,s)}else{if(!(t.shape&&t.stride&&t.data))throw new Error("gl-texture2d: Unsupported data type");if(t.shape.length<2||r+t.shape[1]>this._shape[1]>>>o||n+t.shape[0]>this._shape[0]>>>o||r<0||n<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");!function(t,r,n,o,u,s,h,c){var l=c.dtype,d=c.shape.slice();if(d.length<2||d.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var p=0,v=0,m=g(d,c.stride.slice());"float32"===l?p=t.FLOAT:"float64"===l?(p=t.FLOAT,m=!1,l="float32"):"uint8"===l?p=t.UNSIGNED_BYTE:(p=t.UNSIGNED_BYTE,m=!1,l="uint8");if(2===d.length)v=t.LUMINANCE,d=[d[0],d[1],1],c=e(c.data,d,[c.stride[0],c.stride[1],1],c.offset);else{if(3!==d.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===d[2])v=t.ALPHA;else if(2===d[2])v=t.LUMINANCE_ALPHA;else if(3===d[2])v=t.RGB;else{if(4!==d[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");v=t.RGBA}d[2]}v!==t.LUMINANCE&&v!==t.ALPHA||u!==t.LUMINANCE&&u!==t.ALPHA||(v=u);if(v!==u)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var y=c.size,b=h.indexOf(o)<0;b&&h.push(o);if(p===s&&m)0===c.offset&&c.data.length===y?b?t.texImage2D(t.TEXTURE_2D,o,u,d[0],d[1],0,u,s,c.data):t.texSubImage2D(t.TEXTURE_2D,o,r,n,d[0],d[1],u,s,c.data):b?t.texImage2D(t.TEXTURE_2D,o,u,d[0],d[1],0,u,s,c.data.subarray(c.offset,c.offset+y)):t.texSubImage2D(t.TEXTURE_2D,o,r,n,d[0],d[1],u,s,c.data.subarray(c.offset,c.offset+y));else{var _;_=s===t.FLOAT?a.mallocFloat32(y):a.mallocUint8(y);var M=e(_,d,[d[2],d[2]*d[0],1]);p===t.FLOAT&&s===t.UNSIGNED_BYTE?f(M,c):i.assign(M,c),b?t.texImage2D(t.TEXTURE_2D,o,u,d[0],d[1],0,u,s,_.subarray(0,y)):t.texSubImage2D(t.TEXTURE_2D,o,r,n,d[0],d[1],u,s,_.subarray(0,y)),s===t.FLOAT?a.freeFloat32(_):a.freeUint8(_)}}(u,r,n,o,this.format,this.type,this._mipLevels,t)}}},function(t,r,n){"use strict";t.exports=function(t){for(var r=new Array(t),n=0;n<t;++n)r[n]=n;return r}},function(t,r){function n(t){return!!t.constructor&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"===typeof t.readFloatLE&&"function"===typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,r,n){"use strict";var e=n(47),i={body:"",args:[],thisVars:[],localVars:[]};function a(t){if(!t)return i;for(var r=0;r<t.args.length;++r){var n=t.args[r];t.args[r]=0===r?{name:n,lvalue:!0,rvalue:!!t.rvalue,count:t.count||1}:{name:n,lvalue:!1,rvalue:!0,count:1}}return t.thisVars||(t.thisVars=[]),t.localVars||(t.localVars=[]),t}function o(t){for(var r=[],n=0;n<t.args.length;++n)r.push("a"+n);return new Function("P",["return function ",t.funcName,"_ndarrayops(",r.join(","),") {P(",r.join(","),");return a0}"].join(""))(function(t){return e({args:t.args,pre:a(t.pre),body:a(t.body),post:a(t.proc),funcName:t.funcName})}(t))}var u={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var t in u){var n=u[t];r[t]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+n+"c"},funcName:t}),r[t+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a"+n+"=b"},rvalue:!0,funcName:t+"eq"}),r[t+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+n+"s"},funcName:t+"s"}),r[t+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a"+n+"=s"},rvalue:!0,funcName:t+"seq"})}}();var s={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var t in s){var n=s[t];r[t]=o({args:["array","array"],body:{args:["a","b"],body:"a="+n+"b"},funcName:t}),r[t+"eq"]=o({args:["array"],body:{args:["a"],body:"a="+n+"a"},rvalue:!0,count:2,funcName:t+"eq"})}}();var h={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var t in h){var n=h[t];r[t]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+n+"c"},funcName:t}),r[t+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+n+"s"},funcName:t+"s"}),r[t+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a=a"+n+"b"},rvalue:!0,count:2,funcName:t+"eq"}),r[t+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+n+"s"},rvalue:!0,count:2,funcName:t+"seq"})}}();var c=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var t=0;t<c.length;++t){var n=c[t];r[n]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:n}),r[n+"eq"]=o({args:["array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"eq"})}}();var f=["max","min","atan2","pow"];!function(){for(var t=0;t<f.length;++t){var n=f[t];r[n]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:n}),r[n+"s"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:n+"s"}),r[n+"eq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"eq"}),r[n+"seq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"seq"})}}();var l=["atan2","pow"];!function(){for(var t=0;t<l.length;++t){var n=l[t];r[n+"op"]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:n+"op"}),r[n+"ops"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:n+"ops"}),r[n+"opeq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"opeq"}),r[n+"opseq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"opseq"})}}(),r.any=e({args:["array"],pre:i,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),r.all=e({args:["array"],pre:i,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),r.sum=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),r.prod=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),r.norm2squared=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),r.norm2=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),r.norminf=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),r.norm1=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),r.sup=e({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),r.inf=e({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),r.argmin=e({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),r.argmax=e({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),r.random=o({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),r.assign=o({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),r.assigns=o({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),r.equals=e({args:["array","array"],pre:i,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},function(t,r,n){"use strict";var e=n(48);function i(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}t.exports=function(t){var r=new i;r.pre=t.pre,r.body=t.body,r.post=t.post;var n=t.args.slice(0);r.argTypes=n;for(var a=0;a<n.length;++a){var o=n[a];if("array"===o||"object"===typeof o&&o.blockIndices){if(r.argTypes[a]="array",r.arrayArgs.push(a),r.arrayBlockIndices.push(o.blockIndices?o.blockIndices:0),r.shimArgs.push("array"+a),a<r.pre.args.length&&r.pre.args[a].count>0)throw new Error("cwise: pre() block may not reference array args");if(a<r.post.args.length&&r.post.args[a].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===o)r.scalarArgs.push(a),r.shimArgs.push("scalar"+a);else if("index"===o){if(r.indexArgs.push(a),a<r.pre.args.length&&r.pre.args[a].count>0)throw new Error("cwise: pre() block may not reference array index");if(a<r.body.args.length&&r.body.args[a].lvalue)throw new Error("cwise: body() block may not write to array index");if(a<r.post.args.length&&r.post.args[a].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===o){if(r.shapeArgs.push(a),a<r.pre.args.length&&r.pre.args[a].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(a<r.body.args.length&&r.body.args[a].lvalue)throw new Error("cwise: body() block may not write to array shape");if(a<r.post.args.length&&r.post.args[a].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!==typeof o||!o.offset)throw new Error("cwise: Unknown argument type "+n[a]);r.argTypes[a]="offset",r.offsetArgs.push({array:o.array,offset:o.offset}),r.offsetArgIndex.push(a)}}if(r.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(r.pre.args.length>n.length)throw new Error("cwise: Too many arguments in pre() block");if(r.body.args.length>n.length)throw new Error("cwise: Too many arguments in body() block");if(r.post.args.length>n.length)throw new Error("cwise: Too many arguments in post() block");return r.debug=!!t.printCode||!!t.debug,r.funcName=t.funcName||"cwise",r.blockSize=t.blockSize||64,e(r)}},function(t,r,n){"use strict";var e=n(49);t.exports=function(t){var r=["'use strict'","var CACHED={}"],n=[],i=t.funcName+"_cwise_thunk";r.push(["return function ",i,"(",t.shimArgs.join(","),"){"].join(""));for(var a=[],o=[],u=[["array",t.arrayArgs[0],".shape.slice(",Math.max(0,t.arrayBlockIndices[0]),t.arrayBlockIndices[0]<0?","+t.arrayBlockIndices[0]+")":")"].join("")],s=[],h=[],c=0;c<t.arrayArgs.length;++c){var f=t.arrayArgs[c];n.push(["t",f,"=array",f,".dtype,","r",f,"=array",f,".order"].join("")),a.push("t"+f),a.push("r"+f),o.push("t"+f),o.push("r"+f+".join()"),u.push("array"+f+".data"),u.push("array"+f+".stride"),u.push("array"+f+".offset|0"),c>0&&(s.push("array"+t.arrayArgs[0]+".shape.length===array"+f+".shape.length+"+(Math.abs(t.arrayBlockIndices[0])-Math.abs(t.arrayBlockIndices[c]))),h.push("array"+t.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[0])+"]===array"+f+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[c])+"]"))}for(t.arrayArgs.length>1&&(r.push("if (!("+s.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),r.push("for(var shapeIndex=array"+t.arrayArgs[0]+".shape.length-"+Math.abs(t.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),r.push("if (!("+h.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),r.push("}")),c=0;c<t.scalarArgs.length;++c)u.push("scalar"+t.scalarArgs[c]);return n.push(["type=[",o.join(","),"].join()"].join("")),n.push("proc=CACHED[type]"),r.push("var "+n.join(",")),r.push(["if(!proc){","CACHED[type]=proc=compile([",a.join(","),"])}","return proc(",u.join(","),")}"].join("")),t.debug&&console.log("-----Generated thunk:\n"+r.join("\n")+"\n----------"),new Function("compile",r.join("\n"))(e.bind(void 0,t))}},function(t,r,n){"use strict";var e=n(50);function i(t,r,n){var e,i,a=t.length,o=r.arrayArgs.length,u=r.indexArgs.length>0,s=[],h=[],c=0,f=0;for(e=0;e<a;++e)h.push(["i",e,"=0"].join(""));for(i=0;i<o;++i)for(e=0;e<a;++e)f=c,c=t[e],0===e?h.push(["d",i,"s",e,"=t",i,"p",c].join("")):h.push(["d",i,"s",e,"=(t",i,"p",c,"-s",f,"*t",i,"p",f,")"].join(""));for(h.length>0&&s.push("var "+h.join(",")),e=a-1;e>=0;--e)c=t[e],s.push(["for(i",e,"=0;i",e,"<s",c,";++i",e,"){"].join(""));for(s.push(n),e=0;e<a;++e){for(f=c,c=t[e],i=0;i<o;++i)s.push(["p",i,"+=d",i,"s",e].join(""));u&&(e>0&&s.push(["index[",f,"]-=s",f].join("")),s.push(["++index[",c,"]"].join(""))),s.push("}")}return s.join("\n")}function a(t,r,n){for(var e=t.body,i=[],a=[],o=0;o<t.args.length;++o){var u=t.args[o];if(!(u.count<=0)){var s=new RegExp(u.name,"g"),h="",c=r.arrayArgs.indexOf(o);switch(r.argTypes[o]){case"offset":var f=r.offsetArgIndex.indexOf(o);c=r.offsetArgs[f].array,h="+q"+f;case"array":h="p"+c+h;var l="l"+o,d="a"+c;if(0===r.arrayBlockIndices[c])1===u.count?"generic"===n[c]?u.lvalue?(i.push(["var ",l,"=",d,".get(",h,")"].join("")),e=e.replace(s,l),a.push([d,".set(",h,",",l,")"].join(""))):e=e.replace(s,[d,".get(",h,")"].join("")):e=e.replace(s,[d,"[",h,"]"].join("")):"generic"===n[c]?(i.push(["var ",l,"=",d,".get(",h,")"].join("")),e=e.replace(s,l),u.lvalue&&a.push([d,".set(",h,",",l,")"].join(""))):(i.push(["var ",l,"=",d,"[",h,"]"].join("")),e=e.replace(s,l),u.lvalue&&a.push([d,"[",h,"]=",l].join("")));else{for(var p=[u.name],g=[h],v=0;v<Math.abs(r.arrayBlockIndices[c]);v++)p.push("\\s*\\[([^\\]]+)\\]"),g.push("$"+(v+1)+"*t"+c+"b"+v);if(s=new RegExp(p.join(""),"g"),h=g.join("+"),"generic"===n[c])throw new Error("cwise: Generic arrays not supported in combination with blocks!");e=e.replace(s,[d,"[",h,"]"].join(""))}break;case"scalar":e=e.replace(s,"Y"+r.scalarArgs.indexOf(o));break;case"index":e=e.replace(s,"index");break;case"shape":e=e.replace(s,"shape")}}}return[i.join("\n"),e,a.join("\n")].join("\n").trim()}function o(t){for(var r=new Array(t.length),n=!0,e=0;e<t.length;++e){var i=t[e],a=i.match(/\d+/);a=a?a[0]:"",0===i.charAt(0)?r[e]="u"+i.charAt(1)+a:r[e]=i.charAt(0)+a,e>0&&(n=n&&r[e]===r[e-1])}return n?r[0]:r.join("")}t.exports=function(t,r){for(var n=r[1].length-Math.abs(t.arrayBlockIndices[0])|0,u=new Array(t.arrayArgs.length),s=new Array(t.arrayArgs.length),h=0;h<t.arrayArgs.length;++h)s[h]=r[2*h],u[h]=r[2*h+1];var c=[],f=[],l=[],d=[],p=[];for(h=0;h<t.arrayArgs.length;++h){t.arrayBlockIndices[h]<0?(l.push(0),d.push(n),c.push(n),f.push(n+t.arrayBlockIndices[h])):(l.push(t.arrayBlockIndices[h]),d.push(t.arrayBlockIndices[h]+n),c.push(0),f.push(t.arrayBlockIndices[h]));for(var g=[],v=0;v<u[h].length;v++)l[h]<=u[h][v]&&u[h][v]<d[h]&&g.push(u[h][v]-l[h]);p.push(g)}var m=["SS"],y=["'use strict'"],b=[];for(v=0;v<n;++v)b.push(["s",v,"=SS[",v,"]"].join(""));for(h=0;h<t.arrayArgs.length;++h){m.push("a"+h),m.push("t"+h),m.push("p"+h);for(v=0;v<n;++v)b.push(["t",h,"p",v,"=t",h,"[",l[h]+v,"]"].join(""));for(v=0;v<Math.abs(t.arrayBlockIndices[h]);++v)b.push(["t",h,"b",v,"=t",h,"[",c[h]+v,"]"].join(""))}for(h=0;h<t.scalarArgs.length;++h)m.push("Y"+h);if(t.shapeArgs.length>0&&b.push("shape=SS.slice(0)"),t.indexArgs.length>0){var _=new Array(n);for(h=0;h<n;++h)_[h]="0";b.push(["index=[",_.join(","),"]"].join(""))}for(h=0;h<t.offsetArgs.length;++h){var M=t.offsetArgs[h],w=[];for(v=0;v<M.offset.length;++v)0!==M.offset[v]&&(1===M.offset[v]?w.push(["t",M.array,"p",v].join("")):w.push([M.offset[v],"*t",M.array,"p",v].join("")));0===w.length?b.push("q"+h+"=0"):b.push(["q",h,"=",w.join("+")].join(""))}var E=e([].concat(t.pre.thisVars).concat(t.body.thisVars).concat(t.post.thisVars));for((b=b.concat(E)).length>0&&y.push("var "+b.join(",")),h=0;h<t.arrayArgs.length;++h)y.push("p"+h+"|=0");t.pre.body.length>3&&y.push(a(t.pre,t,s));var x=a(t.body,t,s),A=function(t){for(var r=0,n=t[0].length;r<n;){for(var e=1;e<t.length;++e)if(t[e][r]!==t[0][r])return r;++r}return r}(p);A<n?y.push(function(t,r,n,e){for(var a=r.length,o=n.arrayArgs.length,u=n.blockSize,s=n.indexArgs.length>0,h=[],c=0;c<o;++c)h.push(["var offset",c,"=p",c].join(""));for(c=t;c<a;++c)h.push(["for(var j"+c+"=SS[",r[c],"]|0;j",c,">0;){"].join("")),h.push(["if(j",c,"<",u,"){"].join("")),h.push(["s",r[c],"=j",c].join("")),h.push(["j",c,"=0"].join("")),h.push(["}else{s",r[c],"=",u].join("")),h.push(["j",c,"-=",u,"}"].join("")),s&&h.push(["index[",r[c],"]=j",c].join(""));for(c=0;c<o;++c){for(var f=["offset"+c],l=t;l<a;++l)f.push(["j",l,"*t",c,"p",r[l]].join(""));h.push(["p",c,"=(",f.join("+"),")"].join(""))}for(h.push(i(r,n,e)),c=t;c<a;++c)h.push("}");return h.join("\n")}(A,p[0],t,x)):y.push(i(p[0],t,x)),t.post.body.length>3&&y.push(a(t.post,t,s)),t.debug&&console.log("-----Generated cwise routine for ",r,":\n"+y.join("\n")+"\n----------");var T=[t.funcName||"unnamed","_cwise_loop_",u[0].join("s"),"m",A,o(s)].join("");return new Function(["function ",T,"(",m.join(","),"){",y.join("\n"),"} return ",T].join(""))()}},function(t,r,n){"use strict";t.exports=function(t,r,n){return 0===t.length?t:r?(n||t.sort(r),function(t,r){for(var n=1,e=t.length,i=t[0],a=t[0],o=1;o<e;++o)if(a=i,r(i=t[o],a)){if(o===n){n++;continue}t[n++]=i}return t.length=n,t}(t,r)):(n||t.sort(),function(t){for(var r=1,n=t.length,e=t[0],i=t[0],a=1;a<n;++a,i=e)if(i=e,(e=t[a])!==i){if(a===r){r++;continue}t[r++]=e}return t.length=r,t}(t))}},function(t,r,n){"use strict";(function(t){var e=n(52),i=n(53),a=n(54).Buffer;t.__TYPEDARRAY_POOL||(t.__TYPEDARRAY_POOL={UINT8:i([32,0]),UINT16:i([32,0]),UINT32:i([32,0]),BIGUINT64:i([32,0]),INT8:i([32,0]),INT16:i([32,0]),INT32:i([32,0]),BIGINT64:i([32,0]),FLOAT:i([32,0]),DOUBLE:i([32,0]),DATA:i([32,0]),UINT8C:i([32,0]),BUFFER:i([32,0])});var o="undefined"!==typeof Uint8ClampedArray,u="undefined"!==typeof BigUint64Array,s="undefined"!==typeof BigInt64Array,h=t.__TYPEDARRAY_POOL;h.UINT8C||(h.UINT8C=i([32,0])),h.BIGUINT64||(h.BIGUINT64=i([32,0])),h.BIGINT64||(h.BIGINT64=i([32,0])),h.BUFFER||(h.BUFFER=i([32,0]));var c=h.DATA,f=h.BUFFER;function l(t){if(t){var r=t.length||t.byteLength,n=e.log2(r);c[n].push(t)}}function d(t){t=e.nextPow2(t);var r=e.log2(t),n=c[r];return n.length>0?n.pop():new ArrayBuffer(t)}function p(t){return new Uint8Array(d(t),0,t)}function g(t){return new Uint16Array(d(2*t),0,t)}function v(t){return new Uint32Array(d(4*t),0,t)}function m(t){return new Int8Array(d(t),0,t)}function y(t){return new Int16Array(d(2*t),0,t)}function b(t){return new Int32Array(d(4*t),0,t)}function _(t){return new Float32Array(d(4*t),0,t)}function M(t){return new Float64Array(d(8*t),0,t)}function w(t){return o?new Uint8ClampedArray(d(t),0,t):p(t)}function E(t){return u?new BigUint64Array(d(8*t),0,t):null}function x(t){return s?new BigInt64Array(d(8*t),0,t):null}function A(t){return new DataView(d(t),0,t)}function T(t){t=e.nextPow2(t);var r=e.log2(t),n=f[r];return n.length>0?n.pop():new a(t)}r.free=function(t){if(a.isBuffer(t))f[e.log2(t.length)].push(t);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(t)&&(t=t.buffer),!t)return;var r=t.length||t.byteLength,n=0|e.log2(r);c[n].push(t)}},r.freeUint8=r.freeUint16=r.freeUint32=r.freeBigUint64=r.freeInt8=r.freeInt16=r.freeInt32=r.freeBigInt64=r.freeFloat32=r.freeFloat=r.freeFloat64=r.freeDouble=r.freeUint8Clamped=r.freeDataView=function(t){l(t.buffer)},r.freeArrayBuffer=l,r.freeBuffer=function(t){f[e.log2(t.length)].push(t)},r.malloc=function(t,r){if(void 0===r||"arraybuffer"===r)return d(t);switch(r){case"uint8":return p(t);case"uint16":return g(t);case"uint32":return v(t);case"int8":return m(t);case"int16":return y(t);case"int32":return b(t);case"float":case"float32":return _(t);case"double":case"float64":return M(t);case"uint8_clamped":return w(t);case"bigint64":return x(t);case"biguint64":return E(t);case"buffer":return T(t);case"data":case"dataview":return A(t);default:return null}return null},r.mallocArrayBuffer=d,r.mallocUint8=p,r.mallocUint16=g,r.mallocUint32=v,r.mallocInt8=m,r.mallocInt16=y,r.mallocInt32=b,r.mallocFloat32=r.mallocFloat=_,r.mallocFloat64=r.mallocDouble=M,r.mallocUint8Clamped=w,r.mallocBigUint64=E,r.mallocBigInt64=x,r.mallocDataView=A,r.mallocBuffer=T,r.clearCache=function(){for(var t=0;t<32;++t)h.UINT8[t].length=0,h.UINT16[t].length=0,h.UINT32[t].length=0,h.INT8[t].length=0,h.INT16[t].length=0,h.INT32[t].length=0,h.FLOAT[t].length=0,h.DOUBLE[t].length=0,h.BIGUINT64[t].length=0,h.BIGINT64[t].length=0,h.UINT8C[t].length=0,c[t].length=0,f[t].length=0}}).call(this,n(19))},function(t,r,n){"use strict";function e(t){var r=32;return(t&=-t)&&r--,65535&t&&(r-=16),16711935&t&&(r-=8),252645135&t&&(r-=4),858993459&t&&(r-=2),1431655765&t&&(r-=1),r}r.INT_BITS=32,r.INT_MAX=2147483647,r.INT_MIN=-1<<31,r.sign=function(t){return(t>0)-(t<0)},r.abs=function(t){var r=t>>31;return(t^r)-r},r.min=function(t,r){return r^(t^r)&-(t<r)},r.max=function(t,r){return t^(t^r)&-(t<r)},r.isPow2=function(t){return!(t&t-1)&&!!t},r.log2=function(t){var r,n;return r=(t>65535)<<4,r|=n=((t>>>=r)>255)<<3,r|=n=((t>>>=n)>15)<<2,(r|=n=((t>>>=n)>3)<<1)|(t>>>=n)>>1},r.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},r.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},r.countTrailingZeros=e,r.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},r.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},r.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var i=new Array(256);!function(t){for(var r=0;r<256;++r){var n=r,e=r,i=7;for(n>>>=1;n;n>>>=1)e<<=1,e|=1&n,--i;t[r]=e<<i&255}}(i),r.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},r.interleave2=function(t,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r&=65535)|r<<8))|r<<4))|r<<2))|r<<1))<<1},r.deinterleave2=function(t,r){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>r&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},r.interleave3=function(t,r,n){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},r.deinterleave3=function(t,r){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>r&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},r.nextCombination=function(t){var r=t|t-1;return r+1|(~r&-~r)-1>>>e(t)+1}},function(t,r,n){"use strict";t.exports=function(t,r){switch("undefined"===typeof r&&(r=0),typeof t){case"number":if(t>0)return function(t,r){var n,e;for(n=new Array(t),e=0;e<t;++e)n[e]=r;return n}(0|t,r);break;case"object":if("number"===typeof t.length)return function t(r,n,e){var i=0|r[e];if(i<=0)return[];var a,o=new Array(i);if(e===r.length-1)for(a=0;a<i;++a)o[a]=n;else for(a=0;a<i;++a)o[a]=t(r,n,e+1);return o}(t,r,0)}return[]}},function(t,r,n){"use strict";(function(t){var e=n(55),i=n(56),a=n(57);function o(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(t,r){if(o()<r)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(r)).__proto__=s.prototype:(null===t&&(t=new s(r)),t.length=r),t}function s(t,r,n){if(!s.TYPED_ARRAY_SUPPORT&&!(this instanceof s))return new s(t,r,n);if("number"===typeof t){if("string"===typeof r)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return h(this,t,r,n)}function h(t,r,n,e){if("number"===typeof r)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&r instanceof ArrayBuffer?function(t,r,n,e){if(r.byteLength,n<0||r.byteLength<n)throw new RangeError("'offset' is out of bounds");if(r.byteLength<n+(e||0))throw new RangeError("'length' is out of bounds");r=void 0===n&&void 0===e?new Uint8Array(r):void 0===e?new Uint8Array(r,n):new Uint8Array(r,n,e);s.TYPED_ARRAY_SUPPORT?(t=r).__proto__=s.prototype:t=l(t,r);return t}(t,r,n,e):"string"===typeof r?function(t,r,n){"string"===typeof n&&""!==n||(n="utf8");if(!s.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var e=0|p(r,n),i=(t=u(t,e)).write(r,n);i!==e&&(t=t.slice(0,i));return t}(t,r,n):function(t,r){if(s.isBuffer(r)){var n=0|d(r.length);return 0===(t=u(t,n)).length||r.copy(t,0,0,n),t}if(r){if("undefined"!==typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!==typeof r.length||(e=r.length)!==e?u(t,0):l(t,r);if("Buffer"===r.type&&a(r.data))return l(t,r.data)}var e;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,r)}function c(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,r){if(c(r),t=u(t,r<0?0:0|d(r)),!s.TYPED_ARRAY_SUPPORT)for(var n=0;n<r;++n)t[n]=0;return t}function l(t,r){var n=r.length<0?0:0|d(r.length);t=u(t,n);for(var e=0;e<n;e+=1)t[e]=255&r[e];return t}function d(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function p(t,r){if(s.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var e=!1;;)switch(r){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return V(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return k(t).length;default:if(e)return V(t).length;r=(""+r).toLowerCase(),e=!0}}function g(t,r,n){var e=!1;if((void 0===r||r<0)&&(r=0),r>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(r>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return S(this,r,n);case"utf8":case"utf-8":return T(this,r,n);case"ascii":return R(this,r,n);case"latin1":case"binary":return I(this,r,n);case"base64":return A(this,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,r,n);default:if(e)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),e=!0}}function v(t,r,n){var e=t[r];t[r]=t[n],t[n]=e}function m(t,r,n,e,i){if(0===t.length)return-1;if("string"===typeof n?(e=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof r&&(r=s.from(r,e)),s.isBuffer(r))return 0===r.length?-1:y(t,r,n,e,i);if("number"===typeof r)return r&=255,s.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,r,n):Uint8Array.prototype.lastIndexOf.call(t,r,n):y(t,[r],n,e,i);throw new TypeError("val must be string, number or Buffer")}function y(t,r,n,e,i){var a,o=1,u=t.length,s=r.length;if(void 0!==e&&("ucs2"===(e=String(e).toLowerCase())||"ucs-2"===e||"utf16le"===e||"utf-16le"===e)){if(t.length<2||r.length<2)return-1;o=2,u/=2,s/=2,n/=2}function h(t,r){return 1===o?t[r]:t.readUInt16BE(r*o)}if(i){var c=-1;for(a=n;a<u;a++)if(h(t,a)===h(r,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===s)return c*o}else-1!==c&&(a-=a-c),c=-1}else for(n+s>u&&(n=u-s),a=n;a>=0;a--){for(var f=!0,l=0;l<s;l++)if(h(t,a+l)!==h(r,l)){f=!1;break}if(f)return a}return-1}function b(t,r,n,e){n=Number(n)||0;var i=t.length-n;e?(e=Number(e))>i&&(e=i):e=i;var a=r.length;if(a%2!==0)throw new TypeError("Invalid hex string");e>a/2&&(e=a/2);for(var o=0;o<e;++o){var u=parseInt(r.substr(2*o,2),16);if(isNaN(u))return o;t[n+o]=u}return o}function _(t,r,n,e){return q(V(r,t.length-n),t,n,e)}function M(t,r,n,e){return q(function(t){for(var r=[],n=0;n<t.length;++n)r.push(255&t.charCodeAt(n));return r}(r),t,n,e)}function w(t,r,n,e){return M(t,r,n,e)}function E(t,r,n,e){return q(k(r),t,n,e)}function x(t,r,n,e){return q(function(t,r){for(var n,e,i,a=[],o=0;o<t.length&&!((r-=2)<0);++o)n=t.charCodeAt(o),e=n>>8,i=n%256,a.push(i),a.push(e);return a}(r,t.length-n),t,n,e)}function A(t,r,n){return 0===r&&n===t.length?e.fromByteArray(t):e.fromByteArray(t.slice(r,n))}function T(t,r,n){n=Math.min(t.length,n);for(var e=[],i=r;i<n;){var a,o,u,s,h=t[i],c=null,f=h>239?4:h>223?3:h>191?2:1;if(i+f<=n)switch(f){case 1:h<128&&(c=h);break;case 2:128===(192&(a=t[i+1]))&&(s=(31&h)<<6|63&a)>127&&(c=s);break;case 3:a=t[i+1],o=t[i+2],128===(192&a)&&128===(192&o)&&(s=(15&h)<<12|(63&a)<<6|63&o)>2047&&(s<55296||s>57343)&&(c=s);break;case 4:a=t[i+1],o=t[i+2],u=t[i+3],128===(192&a)&&128===(192&o)&&128===(192&u)&&(s=(15&h)<<18|(63&a)<<12|(63&o)<<6|63&u)>65535&&s<1114112&&(c=s)}null===c?(c=65533,f=1):c>65535&&(c-=65536,e.push(c>>>10&1023|55296),c=56320|1023&c),e.push(c),i+=f}return function(t){var r=t.length;if(r<=4096)return String.fromCharCode.apply(String,t);var n="",e=0;for(;e<r;)n+=String.fromCharCode.apply(String,t.slice(e,e+=4096));return n}(e)}r.Buffer=s,r.SlowBuffer=function(t){+t!=t&&(t=0);return s.alloc(+t)},r.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(r){return!1}}(),r.kMaxLength=o(),s.poolSize=8192,s._augment=function(t){return t.__proto__=s.prototype,t},s.from=function(t,r,n){return h(null,t,r,n)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(t,r,n){return function(t,r,n,e){return c(r),r<=0?u(t,r):void 0!==n?"string"===typeof e?u(t,r).fill(n,e):u(t,r).fill(n):u(t,r)}(null,t,r,n)},s.allocUnsafe=function(t){return f(null,t)},s.allocUnsafeSlow=function(t){return f(null,t)},s.isBuffer=function(t){return!(null==t||!t._isBuffer)},s.compare=function(t,r){if(!s.isBuffer(t)||!s.isBuffer(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var n=t.length,e=r.length,i=0,a=Math.min(n,e);i<a;++i)if(t[i]!==r[i]){n=t[i],e=r[i];break}return n<e?-1:e<n?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,r){if(!a(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);var n;if(void 0===r)for(r=0,n=0;n<t.length;++n)r+=t[n].length;var e=s.allocUnsafe(r),i=0;for(n=0;n<t.length;++n){var o=t[n];if(!s.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(e,i),i+=o.length}return e},s.byteLength=p,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)v(this,r,r+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)v(this,r,r+3),v(this,r+1,r+2);return this},s.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)v(this,r,r+7),v(this,r+1,r+6),v(this,r+2,r+5),v(this,r+3,r+4);return this},s.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?T(this,0,t):g.apply(this,arguments)},s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",n=r.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},s.prototype.compare=function(t,r,n,e,i){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===r&&(r=0),void 0===n&&(n=t?t.length:0),void 0===e&&(e=0),void 0===i&&(i=this.length),r<0||n>t.length||e<0||i>this.length)throw new RangeError("out of range index");if(e>=i&&r>=n)return 0;if(e>=i)return-1;if(r>=n)return 1;if(this===t)return 0;for(var a=(i>>>=0)-(e>>>=0),o=(n>>>=0)-(r>>>=0),u=Math.min(a,o),h=this.slice(e,i),c=t.slice(r,n),f=0;f<u;++f)if(h[f]!==c[f]){a=h[f],o=c[f];break}return a<o?-1:o<a?1:0},s.prototype.includes=function(t,r,n){return-1!==this.indexOf(t,r,n)},s.prototype.indexOf=function(t,r,n){return m(this,t,r,n,!0)},s.prototype.lastIndexOf=function(t,r,n){return m(this,t,r,n,!1)},s.prototype.write=function(t,r,n,e){if(void 0===r)e="utf8",n=this.length,r=0;else if(void 0===n&&"string"===typeof r)e=r,n=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r|=0,isFinite(n)?(n|=0,void 0===e&&(e="utf8")):(e=n,n=void 0)}var i=this.length-r;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");e||(e="utf8");for(var a=!1;;)switch(e){case"hex":return b(this,t,r,n);case"utf8":case"utf-8":return _(this,t,r,n);case"ascii":return M(this,t,r,n);case"latin1":case"binary":return w(this,t,r,n);case"base64":return E(this,t,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,r,n);default:if(a)throw new TypeError("Unknown encoding: "+e);e=(""+e).toLowerCase(),a=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function R(t,r,n){var e="";n=Math.min(t.length,n);for(var i=r;i<n;++i)e+=String.fromCharCode(127&t[i]);return e}function I(t,r,n){var e="";n=Math.min(t.length,n);for(var i=r;i<n;++i)e+=String.fromCharCode(t[i]);return e}function S(t,r,n){var e=t.length;(!r||r<0)&&(r=0),(!n||n<0||n>e)&&(n=e);for(var i="",a=r;a<n;++a)i+=C(t[a]);return i}function P(t,r,n){for(var e=t.slice(r,n),i="",a=0;a<e.length;a+=2)i+=String.fromCharCode(e[a]+256*e[a+1]);return i}function U(t,r,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+r>n)throw new RangeError("Trying to access beyond buffer length")}function L(t,r,n,e,i,a){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>i||r<a)throw new RangeError('"value" argument is out of bounds');if(n+e>t.length)throw new RangeError("Index out of range")}function O(t,r,n,e){r<0&&(r=65535+r+1);for(var i=0,a=Math.min(t.length-n,2);i<a;++i)t[n+i]=(r&255<<8*(e?i:1-i))>>>8*(e?i:1-i)}function N(t,r,n,e){r<0&&(r=4294967295+r+1);for(var i=0,a=Math.min(t.length-n,4);i<a;++i)t[n+i]=r>>>8*(e?i:3-i)&255}function j(t,r,n,e,i,a){if(n+e>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(t,r,n,e,a){return a||j(t,0,n,4),i.write(t,r,n,e,23,4),n+4}function B(t,r,n,e,a){return a||j(t,0,n,8),i.write(t,r,n,e,52,8),n+8}s.prototype.slice=function(t,r){var n,e=this.length;if((t=~~t)<0?(t+=e)<0&&(t=0):t>e&&(t=e),(r=void 0===r?e:~~r)<0?(r+=e)<0&&(r=0):r>e&&(r=e),r<t&&(r=t),s.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,r)).__proto__=s.prototype;else{var i=r-t;n=new s(i,void 0);for(var a=0;a<i;++a)n[a]=this[a+t]}return n},s.prototype.readUIntLE=function(t,r,n){t|=0,r|=0,n||U(t,r,this.length);for(var e=this[t],i=1,a=0;++a<r&&(i*=256);)e+=this[t+a]*i;return e},s.prototype.readUIntBE=function(t,r,n){t|=0,r|=0,n||U(t,r,this.length);for(var e=this[t+--r],i=1;r>0&&(i*=256);)e+=this[t+--r]*i;return e},s.prototype.readUInt8=function(t,r){return r||U(t,1,this.length),this[t]},s.prototype.readUInt16LE=function(t,r){return r||U(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUInt16BE=function(t,r){return r||U(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUInt32LE=function(t,r){return r||U(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUInt32BE=function(t,r){return r||U(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,r,n){t|=0,r|=0,n||U(t,r,this.length);for(var e=this[t],i=1,a=0;++a<r&&(i*=256);)e+=this[t+a]*i;return e>=(i*=128)&&(e-=Math.pow(2,8*r)),e},s.prototype.readIntBE=function(t,r,n){t|=0,r|=0,n||U(t,r,this.length);for(var e=r,i=1,a=this[t+--e];e>0&&(i*=256);)a+=this[t+--e]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*r)),a},s.prototype.readInt8=function(t,r){return r||U(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,r){r||U(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(t,r){r||U(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(t,r){return r||U(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,r){return r||U(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,r){return r||U(t,4,this.length),i.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,r){return r||U(t,4,this.length),i.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,r){return r||U(t,8,this.length),i.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,r){return r||U(t,8,this.length),i.read(this,t,!1,52,8)},s.prototype.writeUIntLE=function(t,r,n,e){(t=+t,r|=0,n|=0,e)||L(this,t,r,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[r]=255&t;++a<n&&(i*=256);)this[r+a]=t/i&255;return r+n},s.prototype.writeUIntBE=function(t,r,n,e){(t=+t,r|=0,n|=0,e)||L(this,t,r,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[r+i]=255&t;--i>=0&&(a*=256);)this[r+i]=t/a&255;return r+n},s.prototype.writeUInt8=function(t,r,n){return t=+t,r|=0,n||L(this,t,r,1,255,0),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=255&t,r+1},s.prototype.writeUInt16LE=function(t,r,n){return t=+t,r|=0,n||L(this,t,r,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):O(this,t,r,!0),r+2},s.prototype.writeUInt16BE=function(t,r,n){return t=+t,r|=0,n||L(this,t,r,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):O(this,t,r,!1),r+2},s.prototype.writeUInt32LE=function(t,r,n){return t=+t,r|=0,n||L(this,t,r,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t):N(this,t,r,!0),r+4},s.prototype.writeUInt32BE=function(t,r,n){return t=+t,r|=0,n||L(this,t,r,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):N(this,t,r,!1),r+4},s.prototype.writeIntLE=function(t,r,n,e){if(t=+t,r|=0,!e){var i=Math.pow(2,8*n-1);L(this,t,r,n,i-1,-i)}var a=0,o=1,u=0;for(this[r]=255&t;++a<n&&(o*=256);)t<0&&0===u&&0!==this[r+a-1]&&(u=1),this[r+a]=(t/o>>0)-u&255;return r+n},s.prototype.writeIntBE=function(t,r,n,e){if(t=+t,r|=0,!e){var i=Math.pow(2,8*n-1);L(this,t,r,n,i-1,-i)}var a=n-1,o=1,u=0;for(this[r+a]=255&t;--a>=0&&(o*=256);)t<0&&0===u&&0!==this[r+a+1]&&(u=1),this[r+a]=(t/o>>0)-u&255;return r+n},s.prototype.writeInt8=function(t,r,n){return t=+t,r|=0,n||L(this,t,r,1,127,-128),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[r]=255&t,r+1},s.prototype.writeInt16LE=function(t,r,n){return t=+t,r|=0,n||L(this,t,r,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):O(this,t,r,!0),r+2},s.prototype.writeInt16BE=function(t,r,n){return t=+t,r|=0,n||L(this,t,r,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):O(this,t,r,!1),r+2},s.prototype.writeInt32LE=function(t,r,n){return t=+t,r|=0,n||L(this,t,r,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):N(this,t,r,!0),r+4},s.prototype.writeInt32BE=function(t,r,n){return t=+t,r|=0,n||L(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),s.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):N(this,t,r,!1),r+4},s.prototype.writeFloatLE=function(t,r,n){return D(this,t,r,!0,n)},s.prototype.writeFloatBE=function(t,r,n){return D(this,t,r,!1,n)},s.prototype.writeDoubleLE=function(t,r,n){return B(this,t,r,!0,n)},s.prototype.writeDoubleBE=function(t,r,n){return B(this,t,r,!1,n)},s.prototype.copy=function(t,r,n,e){if(n||(n=0),e||0===e||(e=this.length),r>=t.length&&(r=t.length),r||(r=0),e>0&&e<n&&(e=n),e===n)return 0;if(0===t.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(e<0)throw new RangeError("sourceEnd out of bounds");e>this.length&&(e=this.length),t.length-r<e-n&&(e=t.length-r+n);var i,a=e-n;if(this===t&&n<r&&r<e)for(i=a-1;i>=0;--i)t[i+r]=this[i+n];else if(a<1e3||!s.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)t[i+r]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+a),r);return a},s.prototype.fill=function(t,r,n,e){if("string"===typeof t){if("string"===typeof r?(e=r,r=0,n=this.length):"string"===typeof n&&(e=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==e&&"string"!==typeof e)throw new TypeError("encoding must be a string");if("string"===typeof e&&!s.isEncoding(e))throw new TypeError("Unknown encoding: "+e)}else"number"===typeof t&&(t&=255);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;var a;if(r>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(a=r;a<n;++a)this[a]=t;else{var o=s.isBuffer(t)?t:V(new s(t,e).toString()),u=o.length;for(a=0;a<n-r;++a)this[a+r]=o[a%u]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function C(t){return t<16?"0"+t.toString(16):t.toString(16)}function V(t,r){var n;r=r||1/0;for(var e=t.length,i=null,a=[],o=0;o<e;++o){if((n=t.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(r-=3)>-1&&a.push(239,191,189);continue}if(o+1===e){(r-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(r-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(r-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((r-=1)<0)break;a.push(n)}else if(n<2048){if((r-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((r-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function k(t){return e.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(F,"")).length<2)return"";for(;t.length%4!==0;)t+="=";return t}(t))}function q(t,r,n,e){for(var i=0;i<e&&!(i+n>=r.length||i>=t.length);++i)r[i+n]=t[i];return i}}).call(this,n(19))},function(t,r,n){"use strict";r.byteLength=function(t){var r=h(t),n=r[0],e=r[1];return 3*(n+e)/4-e},r.toByteArray=function(t){var r,n,e=h(t),o=e[0],u=e[1],s=new a(function(t,r,n){return 3*(r+n)/4-n}(0,o,u)),c=0,f=u>0?o-4:o;for(n=0;n<f;n+=4)r=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],s[c++]=r>>16&255,s[c++]=r>>8&255,s[c++]=255&r;2===u&&(r=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,s[c++]=255&r);1===u&&(r=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,s[c++]=r>>8&255,s[c++]=255&r);return s},r.fromByteArray=function(t){for(var r,n=t.length,i=n%3,a=[],o=0,u=n-i;o<u;o+=16383)a.push(c(t,o,o+16383>u?u:o+16383));1===i?(r=t[n-1],a.push(e[r>>2]+e[r<<4&63]+"==")):2===i&&(r=(t[n-2]<<8)+t[n-1],a.push(e[r>>10]+e[r>>4&63]+e[r<<2&63]+"="));return a.join("")};for(var e=[],i=[],a="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,s=o.length;u<s;++u)e[u]=o[u],i[o.charCodeAt(u)]=u;function h(t){var r=t.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=r),[n,n===r?0:4-n%4]}function c(t,r,n){for(var i,a,o=[],u=r;u<n;u+=3)i=(t[u]<<16&16711680)+(t[u+1]<<8&65280)+(255&t[u+2]),o.push(e[(a=i)>>18&63]+e[a>>12&63]+e[a>>6&63]+e[63&a]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,r){r.read=function(t,r,n,e,i){var a,o,u=8*i-e-1,s=(1<<u)-1,h=s>>1,c=-7,f=n?i-1:0,l=n?-1:1,d=t[r+f];for(f+=l,a=d&(1<<-c)-1,d>>=-c,c+=u;c>0;a=256*a+t[r+f],f+=l,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=e;c>0;o=256*o+t[r+f],f+=l,c-=8);if(0===a)a=1-h;else{if(a===s)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,e),a-=h}return(d?-1:1)*o*Math.pow(2,a-e)},r.write=function(t,r,n,e,i,a){var o,u,s,h=8*a-i-1,c=(1<<h)-1,f=c>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=e?0:a-1,p=e?1:-1,g=r<0||0===r&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(u=isNaN(r)?1:0,o=c):(o=Math.floor(Math.log(r)/Math.LN2),r*(s=Math.pow(2,-o))<1&&(o--,s*=2),(r+=o+f>=1?l/s:l*Math.pow(2,1-f))*s>=2&&(o++,s/=2),o+f>=c?(u=0,o=c):o+f>=1?(u=(r*s-1)*Math.pow(2,i),o+=f):(u=r*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;t[n+d]=255&u,d+=p,u/=256,i-=8);for(o=o<<i|u,h+=i;h>0;t[n+d]=255&o,d+=p,o/=256,h-=8);t[n+d-p]|=128*g}},function(t,r){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},,function(t,r,n){"use strict";n.r(r),n.d(r,"glMatrix",(function(){return e})),n.d(r,"mat2",(function(){return i})),n.d(r,"mat2d",(function(){return a})),n.d(r,"mat3",(function(){return o})),n.d(r,"mat4",(function(){return u})),n.d(r,"quat",(function(){return c})),n.d(r,"quat2",(function(){return f})),n.d(r,"vec2",(function(){return l})),n.d(r,"vec3",(function(){return s})),n.d(r,"vec4",(function(){return h}));var e={};n.r(e),n.d(e,"EPSILON",(function(){return d})),n.d(e,"ARRAY_TYPE",(function(){return p})),n.d(e,"RANDOM",(function(){return g})),n.d(e,"setMatrixArrayType",(function(){return v})),n.d(e,"toRadian",(function(){return y})),n.d(e,"equals",(function(){return b}));var i={};n.r(i),n.d(i,"create",(function(){return _})),n.d(i,"clone",(function(){return M})),n.d(i,"copy",(function(){return w})),n.d(i,"identity",(function(){return E})),n.d(i,"fromValues",(function(){return x})),n.d(i,"set",(function(){return A})),n.d(i,"transpose",(function(){return T})),n.d(i,"invert",(function(){return R})),n.d(i,"adjoint",(function(){return I})),n.d(i,"determinant",(function(){return S})),n.d(i,"multiply",(function(){return P})),n.d(i,"rotate",(function(){return U})),n.d(i,"scale",(function(){return L})),n.d(i,"fromRotation",(function(){return O})),n.d(i,"fromScaling",(function(){return N})),n.d(i,"str",(function(){return j})),n.d(i,"frob",(function(){return D})),n.d(i,"LDU",(function(){return B})),n.d(i,"add",(function(){return F})),n.d(i,"subtract",(function(){return C})),n.d(i,"exactEquals",(function(){return V})),n.d(i,"equals",(function(){return k})),n.d(i,"multiplyScalar",(function(){return q})),n.d(i,"multiplyScalarAndAdd",(function(){return Y})),n.d(i,"mul",(function(){return X})),n.d(i,"sub",(function(){return G}));var a={};n.r(a),n.d(a,"create",(function(){return H})),n.d(a,"clone",(function(){return z})),n.d(a,"copy",(function(){return W})),n.d(a,"identity",(function(){return K})),n.d(a,"fromValues",(function(){return Z})),n.d(a,"set",(function(){return Q})),n.d(a,"invert",(function(){return J})),n.d(a,"determinant",(function(){return $})),n.d(a,"multiply",(function(){return tt})),n.d(a,"rotate",(function(){return rt})),n.d(a,"scale",(function(){return nt})),n.d(a,"translate",(function(){return et})),n.d(a,"fromRotation",(function(){return it})),n.d(a,"fromScaling",(function(){return at})),n.d(a,"fromTranslation",(function(){return ot})),n.d(a,"str",(function(){return ut})),n.d(a,"frob",(function(){return st})),n.d(a,"add",(function(){return ht})),n.d(a,"subtract",(function(){return ct})),n.d(a,"multiplyScalar",(function(){return ft})),n.d(a,"multiplyScalarAndAdd",(function(){return lt})),n.d(a,"exactEquals",(function(){return dt})),n.d(a,"equals",(function(){return pt})),n.d(a,"mul",(function(){return gt})),n.d(a,"sub",(function(){return vt}));var o={};n.r(o),n.d(o,"create",(function(){return mt})),n.d(o,"fromMat4",(function(){return yt})),n.d(o,"clone",(function(){return bt})),n.d(o,"copy",(function(){return _t})),n.d(o,"fromValues",(function(){return Mt})),n.d(o,"set",(function(){return wt})),n.d(o,"identity",(function(){return Et})),n.d(o,"transpose",(function(){return xt})),n.d(o,"invert",(function(){return At})),n.d(o,"adjoint",(function(){return Tt})),n.d(o,"determinant",(function(){return Rt})),n.d(o,"multiply",(function(){return It})),n.d(o,"translate",(function(){return St})),n.d(o,"rotate",(function(){return Pt})),n.d(o,"scale",(function(){return Ut})),n.d(o,"fromTranslation",(function(){return Lt})),n.d(o,"fromRotation",(function(){return Ot})),n.d(o,"fromScaling",(function(){return Nt})),n.d(o,"fromMat2d",(function(){return jt})),n.d(o,"fromQuat",(function(){return Dt})),n.d(o,"normalFromMat4",(function(){return Bt})),n.d(o,"projection",(function(){return Ft})),n.d(o,"str",(function(){return Ct})),n.d(o,"frob",(function(){return Vt})),n.d(o,"add",(function(){return kt})),n.d(o,"subtract",(function(){return qt})),n.d(o,"multiplyScalar",(function(){return Yt})),n.d(o,"multiplyScalarAndAdd",(function(){return Xt})),n.d(o,"exactEquals",(function(){return Gt})),n.d(o,"equals",(function(){return Ht})),n.d(o,"mul",(function(){return zt})),n.d(o,"sub",(function(){return Wt}));var u={};n.r(u),n.d(u,"create",(function(){return Kt})),n.d(u,"clone",(function(){return Zt})),n.d(u,"copy",(function(){return Qt})),n.d(u,"fromValues",(function(){return Jt})),n.d(u,"set",(function(){return $t})),n.d(u,"identity",(function(){return tr})),n.d(u,"transpose",(function(){return rr})),n.d(u,"invert",(function(){return nr})),n.d(u,"adjoint",(function(){return er})),n.d(u,"determinant",(function(){return ir})),n.d(u,"multiply",(function(){return ar})),n.d(u,"translate",(function(){return or})),n.d(u,"scale",(function(){return ur})),n.d(u,"rotate",(function(){return sr})),n.d(u,"rotateX",(function(){return hr})),n.d(u,"rotateY",(function(){return cr})),n.d(u,"rotateZ",(function(){return fr})),n.d(u,"fromTranslation",(function(){return lr})),n.d(u,"fromScaling",(function(){return dr})),n.d(u,"fromRotation",(function(){return pr})),n.d(u,"fromXRotation",(function(){return gr})),n.d(u,"fromYRotation",(function(){return vr})),n.d(u,"fromZRotation",(function(){return mr})),n.d(u,"fromRotationTranslation",(function(){return yr})),n.d(u,"fromQuat2",(function(){return br})),n.d(u,"getTranslation",(function(){return _r})),n.d(u,"getScaling",(function(){return Mr})),n.d(u,"getRotation",(function(){return wr})),n.d(u,"fromRotationTranslationScale",(function(){return Er})),n.d(u,"fromRotationTranslationScaleOrigin",(function(){return xr})),n.d(u,"fromQuat",(function(){return Ar})),n.d(u,"frustum",(function(){return Tr})),n.d(u,"perspective",(function(){return Rr})),n.d(u,"perspectiveFromFieldOfView",(function(){return Ir})),n.d(u,"ortho",(function(){return Sr})),n.d(u,"lookAt",(function(){return Pr})),n.d(u,"targetTo",(function(){return Ur})),n.d(u,"str",(function(){return Lr})),n.d(u,"frob",(function(){return Or})),n.d(u,"add",(function(){return Nr})),n.d(u,"subtract",(function(){return jr})),n.d(u,"multiplyScalar",(function(){return Dr})),n.d(u,"multiplyScalarAndAdd",(function(){return Br})),n.d(u,"exactEquals",(function(){return Fr})),n.d(u,"equals",(function(){return Cr})),n.d(u,"mul",(function(){return Vr})),n.d(u,"sub",(function(){return kr}));var s={};n.r(s),n.d(s,"create",(function(){return qr})),n.d(s,"clone",(function(){return Yr})),n.d(s,"length",(function(){return Xr})),n.d(s,"fromValues",(function(){return Gr})),n.d(s,"copy",(function(){return Hr})),n.d(s,"set",(function(){return zr})),n.d(s,"add",(function(){return Wr})),n.d(s,"subtract",(function(){return Kr})),n.d(s,"multiply",(function(){return Zr})),n.d(s,"divide",(function(){return Qr})),n.d(s,"ceil",(function(){return Jr})),n.d(s,"floor",(function(){return $r})),n.d(s,"min",(function(){return tn})),n.d(s,"max",(function(){return rn})),n.d(s,"round",(function(){return nn})),n.d(s,"scale",(function(){return en})),n.d(s,"scaleAndAdd",(function(){return an})),n.d(s,"distance",(function(){return on})),n.d(s,"squaredDistance",(function(){return un})),n.d(s,"squaredLength",(function(){return sn})),n.d(s,"negate",(function(){return hn})),n.d(s,"inverse",(function(){return cn})),n.d(s,"normalize",(function(){return fn})),n.d(s,"dot",(function(){return ln})),n.d(s,"cross",(function(){return dn})),n.d(s,"lerp",(function(){return pn})),n.d(s,"hermite",(function(){return gn})),n.d(s,"bezier",(function(){return vn})),n.d(s,"random",(function(){return mn})),n.d(s,"transformMat4",(function(){return yn})),n.d(s,"transformMat3",(function(){return bn})),n.d(s,"transformQuat",(function(){return _n})),n.d(s,"rotateX",(function(){return Mn})),n.d(s,"rotateY",(function(){return wn})),n.d(s,"rotateZ",(function(){return En})),n.d(s,"angle",(function(){return xn})),n.d(s,"str",(function(){return An})),n.d(s,"exactEquals",(function(){return Tn})),n.d(s,"equals",(function(){return Rn})),n.d(s,"sub",(function(){return In})),n.d(s,"mul",(function(){return Sn})),n.d(s,"div",(function(){return Pn})),n.d(s,"dist",(function(){return Un})),n.d(s,"sqrDist",(function(){return Ln})),n.d(s,"len",(function(){return On})),n.d(s,"sqrLen",(function(){return Nn})),n.d(s,"forEach",(function(){return jn}));var h={};n.r(h),n.d(h,"create",(function(){return Dn})),n.d(h,"clone",(function(){return Bn})),n.d(h,"fromValues",(function(){return Fn})),n.d(h,"copy",(function(){return Cn})),n.d(h,"set",(function(){return Vn})),n.d(h,"add",(function(){return kn})),n.d(h,"subtract",(function(){return qn})),n.d(h,"multiply",(function(){return Yn})),n.d(h,"divide",(function(){return Xn})),n.d(h,"ceil",(function(){return Gn})),n.d(h,"floor",(function(){return Hn})),n.d(h,"min",(function(){return zn})),n.d(h,"max",(function(){return Wn})),n.d(h,"round",(function(){return Kn})),n.d(h,"scale",(function(){return Zn})),n.d(h,"scaleAndAdd",(function(){return Qn})),n.d(h,"distance",(function(){return Jn})),n.d(h,"squaredDistance",(function(){return $n})),n.d(h,"length",(function(){return te})),n.d(h,"squaredLength",(function(){return re})),n.d(h,"negate",(function(){return ne})),n.d(h,"inverse",(function(){return ee})),n.d(h,"normalize",(function(){return ie})),n.d(h,"dot",(function(){return ae})),n.d(h,"lerp",(function(){return oe})),n.d(h,"random",(function(){return ue})),n.d(h,"transformMat4",(function(){return se})),n.d(h,"transformQuat",(function(){return he})),n.d(h,"str",(function(){return ce})),n.d(h,"exactEquals",(function(){return fe})),n.d(h,"equals",(function(){return le})),n.d(h,"sub",(function(){return de})),n.d(h,"mul",(function(){return pe})),n.d(h,"div",(function(){return ge})),n.d(h,"dist",(function(){return ve})),n.d(h,"sqrDist",(function(){return me})),n.d(h,"len",(function(){return ye})),n.d(h,"sqrLen",(function(){return be})),n.d(h,"forEach",(function(){return _e}));var c={};n.r(c),n.d(c,"create",(function(){return Me})),n.d(c,"identity",(function(){return we})),n.d(c,"setAxisAngle",(function(){return Ee})),n.d(c,"getAxisAngle",(function(){return xe})),n.d(c,"multiply",(function(){return Ae})),n.d(c,"rotateX",(function(){return Te})),n.d(c,"rotateY",(function(){return Re})),n.d(c,"rotateZ",(function(){return Ie})),n.d(c,"calculateW",(function(){return Se})),n.d(c,"slerp",(function(){return Pe})),n.d(c,"random",(function(){return Ue})),n.d(c,"invert",(function(){return Le})),n.d(c,"conjugate",(function(){return Oe})),n.d(c,"fromMat3",(function(){return Ne})),n.d(c,"fromEuler",(function(){return je})),n.d(c,"str",(function(){return De})),n.d(c,"clone",(function(){return Be})),n.d(c,"fromValues",(function(){return Fe})),n.d(c,"copy",(function(){return Ce})),n.d(c,"set",(function(){return Ve})),n.d(c,"add",(function(){return ke})),n.d(c,"mul",(function(){return qe})),n.d(c,"scale",(function(){return Ye})),n.d(c,"dot",(function(){return Xe})),n.d(c,"lerp",(function(){return Ge})),n.d(c,"length",(function(){return He})),n.d(c,"len",(function(){return ze})),n.d(c,"squaredLength",(function(){return We})),n.d(c,"sqrLen",(function(){return Ke})),n.d(c,"normalize",(function(){return Ze})),n.d(c,"exactEquals",(function(){return Qe})),n.d(c,"equals",(function(){return Je})),n.d(c,"rotationTo",(function(){return $e})),n.d(c,"sqlerp",(function(){return ti})),n.d(c,"setAxes",(function(){return ri}));var f={};n.r(f),n.d(f,"create",(function(){return ni})),n.d(f,"clone",(function(){return ei})),n.d(f,"fromValues",(function(){return ii})),n.d(f,"fromRotationTranslationValues",(function(){return ai})),n.d(f,"fromRotationTranslation",(function(){return oi})),n.d(f,"fromTranslation",(function(){return ui})),n.d(f,"fromRotation",(function(){return si})),n.d(f,"fromMat4",(function(){return hi})),n.d(f,"copy",(function(){return ci})),n.d(f,"identity",(function(){return fi})),n.d(f,"set",(function(){return li})),n.d(f,"getReal",(function(){return di})),n.d(f,"getDual",(function(){return pi})),n.d(f,"setReal",(function(){return gi})),n.d(f,"setDual",(function(){return vi})),n.d(f,"getTranslation",(function(){return mi})),n.d(f,"translate",(function(){return yi})),n.d(f,"rotateX",(function(){return bi})),n.d(f,"rotateY",(function(){return _i})),n.d(f,"rotateZ",(function(){return Mi})),n.d(f,"rotateByQuatAppend",(function(){return wi})),n.d(f,"rotateByQuatPrepend",(function(){return Ei})),n.d(f,"rotateAroundAxis",(function(){return xi})),n.d(f,"add",(function(){return Ai})),n.d(f,"multiply",(function(){return Ti})),n.d(f,"mul",(function(){return Ri})),n.d(f,"scale",(function(){return Ii})),n.d(f,"dot",(function(){return Si})),n.d(f,"lerp",(function(){return Pi})),n.d(f,"invert",(function(){return Ui})),n.d(f,"conjugate",(function(){return Li})),n.d(f,"length",(function(){return Oi})),n.d(f,"len",(function(){return Ni})),n.d(f,"squaredLength",(function(){return ji})),n.d(f,"sqrLen",(function(){return Di})),n.d(f,"normalize",(function(){return Bi})),n.d(f,"str",(function(){return Fi})),n.d(f,"exactEquals",(function(){return Ci})),n.d(f,"equals",(function(){return Vi}));var l={};n.r(l),n.d(l,"create",(function(){return ki})),n.d(l,"clone",(function(){return qi})),n.d(l,"fromValues",(function(){return Yi})),n.d(l,"copy",(function(){return Xi})),n.d(l,"set",(function(){return Gi})),n.d(l,"add",(function(){return Hi})),n.d(l,"subtract",(function(){return zi})),n.d(l,"multiply",(function(){return Wi})),n.d(l,"divide",(function(){return Ki})),n.d(l,"ceil",(function(){return Zi})),n.d(l,"floor",(function(){return Qi})),n.d(l,"min",(function(){return Ji})),n.d(l,"max",(function(){return $i})),n.d(l,"round",(function(){return ta})),n.d(l,"scale",(function(){return ra})),n.d(l,"scaleAndAdd",(function(){return na})),n.d(l,"distance",(function(){return ea})),n.d(l,"squaredDistance",(function(){return ia})),n.d(l,"length",(function(){return aa})),n.d(l,"squaredLength",(function(){return oa})),n.d(l,"negate",(function(){return ua})),n.d(l,"inverse",(function(){return sa})),n.d(l,"normalize",(function(){return ha})),n.d(l,"dot",(function(){return ca})),n.d(l,"cross",(function(){return fa})),n.d(l,"lerp",(function(){return la})),n.d(l,"random",(function(){return da})),n.d(l,"transformMat2",(function(){return pa})),n.d(l,"transformMat2d",(function(){return ga})),n.d(l,"transformMat3",(function(){return va})),n.d(l,"transformMat4",(function(){return ma})),n.d(l,"rotate",(function(){return ya})),n.d(l,"angle",(function(){return ba})),n.d(l,"str",(function(){return _a})),n.d(l,"exactEquals",(function(){return Ma})),n.d(l,"equals",(function(){return wa})),n.d(l,"len",(function(){return Ea})),n.d(l,"sub",(function(){return xa})),n.d(l,"mul",(function(){return Aa})),n.d(l,"div",(function(){return Ta})),n.d(l,"dist",(function(){return Ra})),n.d(l,"sqrDist",(function(){return Ia})),n.d(l,"sqrLen",(function(){return Sa})),n.d(l,"forEach",(function(){return Pa}));var d=1e-6,p="undefined"!==typeof Float32Array?Float32Array:Array,g=Math.random;function v(t){p=t}var m=Math.PI/180;function y(t){return t*m}function b(t,r){return Math.abs(t-r)<=d*Math.max(1,Math.abs(t),Math.abs(r))}function _(){var t=new p(4);return p!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}function M(t){var r=new p(4);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}function w(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}function E(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function x(t,r,n,e){var i=new p(4);return i[0]=t,i[1]=r,i[2]=n,i[3]=e,i}function A(t,r,n,e,i){return t[0]=r,t[1]=n,t[2]=e,t[3]=i,t}function T(t,r){if(t===r){var n=r[1];t[1]=r[2],t[2]=n}else t[0]=r[0],t[1]=r[2],t[2]=r[1],t[3]=r[3];return t}function R(t,r){var n=r[0],e=r[1],i=r[2],a=r[3],o=n*a-i*e;return o?(o=1/o,t[0]=a*o,t[1]=-e*o,t[2]=-i*o,t[3]=n*o,t):null}function I(t,r){var n=r[0];return t[0]=r[3],t[1]=-r[1],t[2]=-r[2],t[3]=n,t}function S(t){return t[0]*t[3]-t[2]*t[1]}function P(t,r,n){var e=r[0],i=r[1],a=r[2],o=r[3],u=n[0],s=n[1],h=n[2],c=n[3];return t[0]=e*u+a*s,t[1]=i*u+o*s,t[2]=e*h+a*c,t[3]=i*h+o*c,t}function U(t,r,n){var e=r[0],i=r[1],a=r[2],o=r[3],u=Math.sin(n),s=Math.cos(n);return t[0]=e*s+a*u,t[1]=i*s+o*u,t[2]=e*-u+a*s,t[3]=i*-u+o*s,t}function L(t,r,n){var e=r[0],i=r[1],a=r[2],o=r[3],u=n[0],s=n[1];return t[0]=e*u,t[1]=i*u,t[2]=a*s,t[3]=o*s,t}function O(t,r){var n=Math.sin(r),e=Math.cos(r);return t[0]=e,t[1]=n,t[2]=-n,t[3]=e,t}function N(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=r[1],t}function j(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function D(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))}function B(t,r,n,e){return t[2]=e[2]/e[0],n[0]=e[0],n[1]=e[1],n[3]=e[3]-t[2]*n[1],[t,r,n]}function F(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t[3]=r[3]+n[3],t}function C(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t[3]=r[3]-n[3],t}function V(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]}function k(t,r){var n=t[0],e=t[1],i=t[2],a=t[3],o=r[0],u=r[1],s=r[2],h=r[3];return Math.abs(n-o)<=d*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(e-u)<=d*Math.max(1,Math.abs(e),Math.abs(u))&&Math.abs(i-s)<=d*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(a-h)<=d*Math.max(1,Math.abs(a),Math.abs(h))}function q(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t}function Y(t,r,n,e){return t[0]=r[0]+n[0]*e,t[1]=r[1]+n[1]*e,t[2]=r[2]+n[2]*e,t[3]=r[3]+n[3]*e,t}var X=P,G=C;function H(){var t=new p(6);return p!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t}function z(t){var r=new p(6);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r}function W(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t}function K(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function Z(t,r,n,e,i,a){var o=new p(6);return o[0]=t,o[1]=r,o[2]=n,o[3]=e,o[4]=i,o[5]=a,o}function Q(t,r,n,e,i,a,o){return t[0]=r,t[1]=n,t[2]=e,t[3]=i,t[4]=a,t[5]=o,t}function J(t,r){var n=r[0],e=r[1],i=r[2],a=r[3],o=r[4],u=r[5],s=n*a-e*i;return s?(s=1/s,t[0]=a*s,t[1]=-e*s,t[2]=-i*s,t[3]=n*s,t[4]=(i*u-a*o)*s,t[5]=(e*o-n*u)*s,t):null}function $(t){return t[0]*t[3]-t[1]*t[2]}function tt(t,r,n){var e=r[0],i=r[1],a=r[2],o=r[3],u=r[4],s=r[5],h=n[0],c=n[1],f=n[2],l=n[3],d=n[4],p=n[5];return t[0]=e*h+a*c,t[1]=i*h+o*c,t[2]=e*f+a*l,t[3]=i*f+o*l,t[4]=e*d+a*p+u,t[5]=i*d+o*p+s,t}function rt(t,r,n){var e=r[0],i=r[1],a=r[2],o=r[3],u=r[4],s=r[5],h=Math.sin(n),c=Math.cos(n);return t[0]=e*c+a*h,t[1]=i*c+o*h,t[2]=e*-h+a*c,t[3]=i*-h+o*c,t[4]=u,t[5]=s,t}function nt(t,r,n){var e=r[0],i=r[1],a=r[2],o=r[3],u=r[4],s=r[5],h=n[0],c=n[1];return t[0]=e*h,t[1]=i*h,t[2]=a*c,t[3]=o*c,t[4]=u,t[5]=s,t}function et(t,r,n){var e=r[0],i=r[1],a=r[2],o=r[3],u=r[4],s=r[5],h=n[0],c=n[1];return t[0]=e,t[1]=i,t[2]=a,t[3]=o,t[4]=e*h+a*c+u,t[5]=i*h+o*c+s,t}function it(t,r){var n=Math.sin(r),e=Math.cos(r);return t[0]=e,t[1]=n,t[2]=-n,t[3]=e,t[4]=0,t[5]=0,t}function at(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=r[1],t[4]=0,t[5]=0,t}function ot(t,r){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=r[0],t[5]=r[1],t}function ut(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function st(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)}function ht(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t[3]=r[3]+n[3],t[4]=r[4]+n[4],t[5]=r[5]+n[5],t}function ct(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t[3]=r[3]-n[3],t[4]=r[4]-n[4],t[5]=r[5]-n[5],t}function ft(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t[4]=r[4]*n,t[5]=r[5]*n,t}function lt(t,r,n,e){return t[0]=r[0]+n[0]*e,t[1]=r[1]+n[1]*e,t[2]=r[2]+n[2]*e,t[3]=r[3]+n[3]*e,t[4]=r[4]+n[4]*e,t[5]=r[5]+n[5]*e,t}function dt(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]}function pt(t,r){var n=t[0],e=t[1],i=t[2],a=t[3],o=t[4],u=t[5],s=r[0],h=r[1],c=r[2],f=r[3],l=r[4],p=r[5];return Math.abs(n-s)<=d*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(e-h)<=d*Math.max(1,Math.abs(e),Math.abs(h))&&Math.abs(i-c)<=d*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(a-f)<=d*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(o-l)<=d*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(u-p)<=d*Math.max(1,Math.abs(u),Math.abs(p))}var gt=tt,vt=ct;function mt(){var t=new p(9);return p!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function yt(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[4],t[4]=r[5],t[5]=r[6],t[6]=r[8],t[7]=r[9],t[8]=r[10],t}function bt(t){var r=new p(9);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r}function _t(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t}function Mt(t,r,n,e,i,a,o,u,s){var h=new p(9);return h[0]=t,h[1]=r,h[2]=n,h[3]=e,h[4]=i,h[5]=a,h[6]=o,h[7]=u,h[8]=s,h}function wt(t,r,n,e,i,a,o,u,s,h){return t[0]=r,t[1]=n,t[2]=e,t[3]=i,t[4]=a,t[5]=o,t[6]=u,t[7]=s,t[8]=h,t}function Et(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function xt(t,r){if(t===r){var n=r[1],e=r[2],i=r[5];t[1]=r[3],t[2]=r[6],t[3]=n,t[5]=r[7],t[6]=e,t[7]=i}else t[0]=r[0],t[1]=r[3],t[2]=r[6],t[3]=r[1],t[4]=r[4],t[5]=r[7],t[6]=r[2],t[7]=r[5],t[8]=r[8];return t}function At(t,r){var n=r[0],e=r[1],i=r[2],a=r[3],o=r[4],u=r[5],s=r[6],h=r[7],c=r[8],f=c*o-u*h,l=-c*a+u*s,d=h*a-o*s,p=n*f+e*l+i*d;return p?(p=1/p,t[0]=f*p,t[1]=(-c*e+i*h)*p,t[2]=(u*e-i*o)*p,t[3]=l*p,t[4]=(c*n-i*s)*p,t[5]=(-u*n+i*a)*p,t[6]=d*p,t[7]=(-h*n+e*s)*p,t[8]=(o*n-e*a)*p,t):null}function Tt(t,r){var n=r[0],e=r[1],i=r[2],a=r[3],o=r[4],u=r[5],s=r[6],h=r[7],c=r[8];return t[0]=o*c-u*h,t[1]=i*h-e*c,t[2]=e*u-i*o,t[3]=u*s-a*c,t[4]=n*c-i*s,t[5]=i*a-n*u,t[6]=a*h-o*s,t[7]=e*s-n*h,t[8]=n*o-e*a,t}function Rt(t){var r=t[0],n=t[1],e=t[2],i=t[3],a=t[4],o=t[5],u=t[6],s=t[7],h=t[8];return r*(h*a-o*s)+n*(-h*i+o*u)+e*(s*i-a*u)}function It(t,r,n){var e=r[0],i=r[1],a=r[2],o=r[3],u=r[4],s=r[5],h=r[6],c=r[7],f=r[8],l=n[0],d=n[1],p=n[2],g=n[3],v=n[4],m=n[5],y=n[6],b=n[7],_=n[8];return t[0]=l*e+d*o+p*h,t[1]=l*i+d*u+p*c,t[2]=l*a+d*s+p*f,t[3]=g*e+v*o+m*h,t[4]=g*i+v*u+m*c,t[5]=g*a+v*s+m*f,t[6]=y*e+b*o+_*h,t[7]=y*i+b*u+_*c,t[8]=y*a+b*s+_*f,t}function St(t,r,n){var e=r[0],i=r[1],a=r[2],o=r[3],u=r[4],s=r[5],h=r[6],c=r[7],f=r[8],l=n[0],d=n[1];return t[0]=e,t[1]=i,t[2]=a,t[3]=o,t[4]=u,t[5]=s,t[6]=l*e+d*o+h,t[7]=l*i+d*u+c,t[8]=l*a+d*s+f,t}function Pt(t,r,n){var e=r[0],i=r[1],a=r[2],o=r[3],u=r[4],s=r[5],h=r[6],c=r[7],f=r[8],l=Math.sin(n),d=Math.cos(n);return t[0]=d*e+l*o,t[1]=d*i+l*u,t[2]=d*a+l*s,t[3]=d*o-l*e,t[4]=d*u-l*i,t[5]=d*s-l*a,t[6]=h,t[7]=c,t[8]=f,t}function Ut(t,r,n){var e=n[0],i=n[1];return t[0]=e*r[0],t[1]=e*r[1],t[2]=e*r[2],t[3]=i*r[3],t[4]=i*r[4],t[5]=i*r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t}function Lt(t,r){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=r[0],t[7]=r[1],t[8]=1,t}function Ot(t,r){var n=Math.sin(r),e=Math.cos(r);return t[0]=e,t[1]=n,t[2]=0,t[3]=-n,t[4]=e,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Nt(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=0,t[4]=r[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function jt(t,r){return t[0]=r[0],t[1]=r[1],t[2]=0,t[3]=r[2],t[4]=r[3],t[5]=0,t[6]=r[4],t[7]=r[5],t[8]=1,t}function Dt(t,r){var n=r[0],e=r[1],i=r[2],a=r[3],o=n+n,u=e+e,s=i+i,h=n*o,c=e*o,f=e*u,l=i*o,d=i*u,p=i*s,g=a*o,v=a*u,m=a*s;return t[0]=1-f-p,t[3]=c-m,t[6]=l+v,t[1]=c+m,t[4]=1-h-p,t[7]=d-g,t[2]=l-v,t[5]=d+g,t[8]=1-h-f,t}function Bt(t,r){var n=r[0],e=r[1],i=r[2],a=r[3],o=r[4],u=r[5],s=r[6],h=r[7],c=r[8],f=r[9],l=r[10],d=r[11],p=r[12],g=r[13],v=r[14],m=r[15],y=n*u-e*o,b=n*s-i*o,_=n*h-a*o,M=e*s-i*u,w=e*h-a*u,E=i*h-a*s,x=c*g-f*p,A=c*v-l*p,T=c*m-d*p,R=f*v-l*g,I=f*m-d*g,S=l*m-d*v,P=y*S-b*I+_*R+M*T-w*A+E*x;return P?(P=1/P,t[0]=(u*S-s*I+h*R)*P,t[1]=(s*T-o*S-h*A)*P,t[2]=(o*I-u*T+h*x)*P,t[3]=(i*I-e*S-a*R)*P,t[4]=(n*S-i*T+a*A)*P,t[5]=(e*T-n*I-a*x)*P,t[6]=(g*E-v*w+m*M)*P,t[7]=(v*_-p*E-m*b)*P,t[8]=(p*w-g*_+m*y)*P,t):null}function Ft(t,r,n){return t[0]=2/r,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function Ct(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function Vt(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))}function kt(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t[3]=r[3]+n[3],t[4]=r[4]+n[4],t[5]=r[5]+n[5],t[6]=r[6]+n[6],t[7]=r[7]+n[7],t[8]=r[8]+n[8],t}function qt(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t[3]=r[3]-n[3],t[4]=r[4]-n[4],t[5]=r[5]-n[5],t[6]=r[6]-n[6],t[7]=r[7]-n[7],t[8]=r[8]-n[8],t}function Yt(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t[4]=r[4]*n,t[5]=r[5]*n,t[6]=r[6]*n,t[7]=r[7]*n,t[8]=r[8]*n,t}function Xt(t,r,n,e){return t[0]=r[0]+n[0]*e,t[1]=r[1]+n[1]*e,t[2]=r[2]+n[2]*e,t[3]=r[3]+n[3]*e,t[4]=r[4]+n[4]*e,t[5]=r[5]+n[5]*e,t[6]=r[6]+n[6]*e,t[7]=r[7]+n[7]*e,t[8]=r[8]+n[8]*e,t}function Gt(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]&&t[6]===r[6]&&t[7]===r[7]&&t[8]===r[8]}function Ht(t,r){var n=t[0],e=t[1],i=t[2],a=t[3],o=t[4],u=t[5],s=t[6],h=t[7],c=t[8],f=r[0],l=r[1],p=r[2],g=r[3],v=r[4],m=r[5],y=r[6],b=r[7],_=r[8];return Math.abs(n-f)<=d*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(e-l)<=d*Math.max(1,Math.abs(e),Math.abs(l))&&Math.abs(i-p)<=d*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(a-g)<=d*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(o-v)<=d*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(u-m)<=d*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(s-y)<=d*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(h-b)<=d*Math.max(1,Math.abs(h),Math.abs(b))&&Math.abs(c-_)<=d*Math.max(1,Math.abs(c),Math.abs(_))}var zt=It,Wt=qt;function Kt(){var t=new p(16);return p!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function Zt(t){var r=new p(16);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}function Qt(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}function Jt(t,r,n,e,i,a,o,u,s,h,c,f,l,d,g,v){var m=new p(16);return m[0]=t,m[1]=r,m[2]=n,m[3]=e,m[4]=i,m[5]=a,m[6]=o,m[7]=u,m[8]=s,m[9]=h,m[10]=c,m[11]=f,m[12]=l,m[13]=d,m[14]=g,m[15]=v,m}function $t(t,r,n,e,i,a,o,u,s,h,c,f,l,d,p,g,v){return t[0]=r,t[1]=n,t[2]=e,t[3]=i,t[4]=a,t[5]=o,t[6]=u,t[7]=s,t[8]=h,t[9]=c,t[10]=f,t[11]=l,t[12]=d,t[13]=p,t[14]=g,t[15]=v,t}function tr(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function rr(t,r){if(t===r){var n=r[1],e=r[2],i=r[3],a=r[6],o=r[7],u=r[11];t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=n,t[6]=r[9],t[7]=r[13],t[8]=e,t[9]=a,t[11]=r[14],t[12]=i,t[13]=o,t[14]=u}else t[0]=r[0],t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=r[1],t[5]=r[5],t[6]=r[9],t[7]=r[13],t[8]=r[2],t[9]=r[6],t[10]=r[10],t[11]=r[14],t[12]=r[3],t[13]=r[7],t[14]=r[11],t[15]=r[15];return t}function nr(t,r){var n=r[0],e=r[1],i=r[2],a=r[3],o=r[4],u=r[5],s=r[6],h=r[7],c=r[8],f=r[9],l=r[10],d=r[11],p=r[12],g=r[13],v=r[14],m=r[15],y=n*u-e*o,b=n*s-i*o,_=n*h-a*o,M=e*s-i*u,w=e*h-a*u,E=i*h-a*s,x=c*g-f*p,A=c*v-l*p,T=c*m-d*p,R=f*v-l*g,I=f*m-d*g,S=l*m-d*v,P=y*S-b*I+_*R+M*T-w*A+E*x;return P?(P=1/P,t[0]=(u*S-s*I+h*R)*P,t[1]=(i*I-e*S-a*R)*P,t[2]=(g*E-v*w+m*M)*P,t[3]=(l*w-f*E-d*M)*P,t[4]=(s*T-o*S-h*A)*P,t[5]=(n*S-i*T+a*A)*P,t[6]=(v*_-p*E-m*b)*P,t[7]=(c*E-l*_+d*b)*P,t[8]=(o*I-u*T+h*x)*P,t[9]=(e*T-n*I-a*x)*P,t[10]=(p*w-g*_+m*y)*P,t[11]=(f*_-c*w-d*y)*P,t[12]=(u*A-o*R-s*x)*P,t[13]=(n*R-e*A+i*x)*P,t[14]=(g*b-p*M-v*y)*P,t[15]=(c*M-f*b+l*y)*P,t):null}function er(t,r){var n=r[0],e=r[1],i=r[2],a=r[3],o=r[4],u=r[5],s=r[6],h=r[7],c=r[8],f=r[9],l=r[10],d=r[11],p=r[12],g=r[13],v=r[14],m=r[15];return t[0]=u*(l*m-d*v)-f*(s*m-h*v)+g*(s*d-h*l),t[1]=-(e*(l*m-d*v)-f*(i*m-a*v)+g*(i*d-a*l)),t[2]=e*(s*m-h*v)-u*(i*m-a*v)+g*(i*h-a*s),t[3]=-(e*(s*d-h*l)-u*(i*d-a*l)+f*(i*h-a*s)),t[4]=-(o*(l*m-d*v)-c*(s*m-h*v)+p*(s*d-h*l)),t[5]=n*(l*m-d*v)-c*(i*m-a*v)+p*(i*d-a*l),t[6]=-(n*(s*m-h*v)-o*(i*m-a*v)+p*(i*h-a*s)),t[7]=n*(s*d-h*l)-o*(i*d-a*l)+c*(i*h-a*s),t[8]=o*(f*m-d*g)-c*(u*m-h*g)+p*(u*d-h*f),t[9]=-(n*(f*m-d*g)-c*(e*m-a*g)+p*(e*d-a*f)),t[10]=n*(u*m-h*g)-o*(e*m-a*g)+p*(e*h-a*u),t[11]=-(n*(u*d-h*f)-o*(e*d-a*f)+c*(e*h-a*u)),t[12]=-(o*(f*v-l*g)-c*(u*v-s*g)+p*(u*l-s*f)),t[13]=n*(f*v-l*g)-c*(e*v-i*g)+p*(e*l-i*f),t[14]=-(n*(u*v-s*g)-o*(e*v-i*g)+p*(e*s-i*u)),t[15]=n*(u*l-s*f)-o*(e*l-i*f)+c*(e*s-i*u),t}function ir(t){var r=t[0],n=t[1],e=t[2],i=t[3],a=t[4],o=t[5],u=t[6],s=t[7],h=t[8],c=t[9],f=t[10],l=t[11],d=t[12],p=t[13],g=t[14],v=t[15];return(r*o-n*a)*(f*v-l*g)-(r*u-e*a)*(c*v-l*p)+(r*s-i*a)*(c*g-f*p)+(n*u-e*o)*(h*v-l*d)-(n*s-i*o)*(h*g-f*d)+(e*s-i*u)*(h*p-c*d)}function ar(t,r,n){var e=r[0],i=r[1],a=r[2],o=r[3],u=r[4],s=r[5],h=r[6],c=r[7],f=r[8],l=r[9],d=r[10],p=r[11],g=r[12],v=r[13],m=r[14],y=r[15],b=n[0],_=n[1],M=n[2],w=n[3];return t[0]=b*e+_*u+M*f+w*g,t[1]=b*i+_*s+M*l+w*v,t[2]=b*a+_*h+M*d+w*m,t[3]=b*o+_*c+M*p+w*y,b=n[4],_=n[5],M=n[6],w=n[7],t[4]=b*e+_*u+M*f+w*g,t[5]=b*i+_*s+M*l+w*v,t[6]=b*a+_*h+M*d+w*m,t[7]=b*o+_*c+M*p+w*y,b=n[8],_=n[9],M=n[10],w=n[11],t[8]=b*e+_*u+M*f+w*g,t[9]=b*i+_*s+M*l+w*v,t[10]=b*a+_*h+M*d+w*m,t[11]=b*o+_*c+M*p+w*y,b=n[12],_=n[13],M=n[14],w=n[15],t[12]=b*e+_*u+M*f+w*g,t[13]=b*i+_*s+M*l+w*v,t[14]=b*a+_*h+M*d+w*m,t[15]=b*o+_*c+M*p+w*y,t}function or(t,r,n){var e=n[0],i=n[1],a=n[2],o=void 0,u=void 0,s=void 0,h=void 0,c=void 0,f=void 0,l=void 0,d=void 0,p=void 0,g=void 0,v=void 0,m=void 0;return r===t?(t[12]=r[0]*e+r[4]*i+r[8]*a+r[12],t[13]=r[1]*e+r[5]*i+r[9]*a+r[13],t[14]=r[2]*e+r[6]*i+r[10]*a+r[14],t[15]=r[3]*e+r[7]*i+r[11]*a+r[15]):(o=r[0],u=r[1],s=r[2],h=r[3],c=r[4],f=r[5],l=r[6],d=r[7],p=r[8],g=r[9],v=r[10],m=r[11],t[0]=o,t[1]=u,t[2]=s,t[3]=h,t[4]=c,t[5]=f,t[6]=l,t[7]=d,t[8]=p,t[9]=g,t[10]=v,t[11]=m,t[12]=o*e+c*i+p*a+r[12],t[13]=u*e+f*i+g*a+r[13],t[14]=s*e+l*i+v*a+r[14],t[15]=h*e+d*i+m*a+r[15]),t}function ur(t,r,n){var e=n[0],i=n[1],a=n[2];return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t[4]=r[4]*i,t[5]=r[5]*i,t[6]=r[6]*i,t[7]=r[7]*i,t[8]=r[8]*a,t[9]=r[9]*a,t[10]=r[10]*a,t[11]=r[11]*a,t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}function sr(t,r,n,e){var i,a,o,u,s,h,c,f,l,p,g,v,m,y,b,_,M,w,E,x,A,T,R,I,S=e[0],P=e[1],U=e[2],L=Math.sqrt(S*S+P*P+U*U);return L<d?null:(S*=L=1/L,P*=L,U*=L,i=Math.sin(n),o=1-(a=Math.cos(n)),u=r[0],s=r[1],h=r[2],c=r[3],f=r[4],l=r[5],p=r[6],g=r[7],v=r[8],m=r[9],y=r[10],b=r[11],_=S*S*o+a,M=P*S*o+U*i,w=U*S*o-P*i,E=S*P*o-U*i,x=P*P*o+a,A=U*P*o+S*i,T=S*U*o+P*i,R=P*U*o-S*i,I=U*U*o+a,t[0]=u*_+f*M+v*w,t[1]=s*_+l*M+m*w,t[2]=h*_+p*M+y*w,t[3]=c*_+g*M+b*w,t[4]=u*E+f*x+v*A,t[5]=s*E+l*x+m*A,t[6]=h*E+p*x+y*A,t[7]=c*E+g*x+b*A,t[8]=u*T+f*R+v*I,t[9]=s*T+l*R+m*I,t[10]=h*T+p*R+y*I,t[11]=c*T+g*R+b*I,r!==t&&(t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t)}function hr(t,r,n){var e=Math.sin(n),i=Math.cos(n),a=r[4],o=r[5],u=r[6],s=r[7],h=r[8],c=r[9],f=r[10],l=r[11];return r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[4]=a*i+h*e,t[5]=o*i+c*e,t[6]=u*i+f*e,t[7]=s*i+l*e,t[8]=h*i-a*e,t[9]=c*i-o*e,t[10]=f*i-u*e,t[11]=l*i-s*e,t}function cr(t,r,n){var e=Math.sin(n),i=Math.cos(n),a=r[0],o=r[1],u=r[2],s=r[3],h=r[8],c=r[9],f=r[10],l=r[11];return r!==t&&(t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=a*i-h*e,t[1]=o*i-c*e,t[2]=u*i-f*e,t[3]=s*i-l*e,t[8]=a*e+h*i,t[9]=o*e+c*i,t[10]=u*e+f*i,t[11]=s*e+l*i,t}function fr(t,r,n){var e=Math.sin(n),i=Math.cos(n),a=r[0],o=r[1],u=r[2],s=r[3],h=r[4],c=r[5],f=r[6],l=r[7];return r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=a*i+h*e,t[1]=o*i+c*e,t[2]=u*i+f*e,t[3]=s*i+l*e,t[4]=h*i-a*e,t[5]=c*i-o*e,t[6]=f*i-u*e,t[7]=l*i-s*e,t}function lr(t,r){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function dr(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=r[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function pr(t,r,n){var e,i,a,o=n[0],u=n[1],s=n[2],h=Math.sqrt(o*o+u*u+s*s);return h<d?null:(o*=h=1/h,u*=h,s*=h,e=Math.sin(r),a=1-(i=Math.cos(r)),t[0]=o*o*a+i,t[1]=u*o*a+s*e,t[2]=s*o*a-u*e,t[3]=0,t[4]=o*u*a-s*e,t[5]=u*u*a+i,t[6]=s*u*a+o*e,t[7]=0,t[8]=o*s*a+u*e,t[9]=u*s*a-o*e,t[10]=s*s*a+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function gr(t,r){var n=Math.sin(r),e=Math.cos(r);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function vr(t,r){var n=Math.sin(r),e=Math.cos(r);return t[0]=e,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function mr(t,r){var n=Math.sin(r),e=Math.cos(r);return t[0]=e,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function yr(t,r,n){var e=r[0],i=r[1],a=r[2],o=r[3],u=e+e,s=i+i,h=a+a,c=e*u,f=e*s,l=e*h,d=i*s,p=i*h,g=a*h,v=o*u,m=o*s,y=o*h;return t[0]=1-(d+g),t[1]=f+y,t[2]=l-m,t[3]=0,t[4]=f-y,t[5]=1-(c+g),t[6]=p+v,t[7]=0,t[8]=l+m,t[9]=p-v,t[10]=1-(c+d),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function br(t,r){var n=new p(3),e=-r[0],i=-r[1],a=-r[2],o=r[3],u=r[4],s=r[5],h=r[6],c=r[7],f=e*e+i*i+a*a+o*o;return f>0?(n[0]=2*(u*o+c*e+s*a-h*i)/f,n[1]=2*(s*o+c*i+h*e-u*a)/f,n[2]=2*(h*o+c*a+u*i-s*e)/f):(n[0]=2*(u*o+c*e+s*a-h*i),n[1]=2*(s*o+c*i+h*e-u*a),n[2]=2*(h*o+c*a+u*i-s*e)),yr(t,r,n),t}function _r(t,r){return t[0]=r[12],t[1]=r[13],t[2]=r[14],t}function Mr(t,r){var n=r[0],e=r[1],i=r[2],a=r[4],o=r[5],u=r[6],s=r[8],h=r[9],c=r[10];return t[0]=Math.sqrt(n*n+e*e+i*i),t[1]=Math.sqrt(a*a+o*o+u*u),t[2]=Math.sqrt(s*s+h*h+c*c),t}function wr(t,r){var n=r[0]+r[5]+r[10],e=0;return n>0?(e=2*Math.sqrt(n+1),t[3]=.25*e,t[0]=(r[6]-r[9])/e,t[1]=(r[8]-r[2])/e,t[2]=(r[1]-r[4])/e):r[0]>r[5]&&r[0]>r[10]?(e=2*Math.sqrt(1+r[0]-r[5]-r[10]),t[3]=(r[6]-r[9])/e,t[0]=.25*e,t[1]=(r[1]+r[4])/e,t[2]=(r[8]+r[2])/e):r[5]>r[10]?(e=2*Math.sqrt(1+r[5]-r[0]-r[10]),t[3]=(r[8]-r[2])/e,t[0]=(r[1]+r[4])/e,t[1]=.25*e,t[2]=(r[6]+r[9])/e):(e=2*Math.sqrt(1+r[10]-r[0]-r[5]),t[3]=(r[1]-r[4])/e,t[0]=(r[8]+r[2])/e,t[1]=(r[6]+r[9])/e,t[2]=.25*e),t}function Er(t,r,n,e){var i=r[0],a=r[1],o=r[2],u=r[3],s=i+i,h=a+a,c=o+o,f=i*s,l=i*h,d=i*c,p=a*h,g=a*c,v=o*c,m=u*s,y=u*h,b=u*c,_=e[0],M=e[1],w=e[2];return t[0]=(1-(p+v))*_,t[1]=(l+b)*_,t[2]=(d-y)*_,t[3]=0,t[4]=(l-b)*M,t[5]=(1-(f+v))*M,t[6]=(g+m)*M,t[7]=0,t[8]=(d+y)*w,t[9]=(g-m)*w,t[10]=(1-(f+p))*w,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function xr(t,r,n,e,i){var a=r[0],o=r[1],u=r[2],s=r[3],h=a+a,c=o+o,f=u+u,l=a*h,d=a*c,p=a*f,g=o*c,v=o*f,m=u*f,y=s*h,b=s*c,_=s*f,M=e[0],w=e[1],E=e[2],x=i[0],A=i[1],T=i[2],R=(1-(g+m))*M,I=(d+_)*M,S=(p-b)*M,P=(d-_)*w,U=(1-(l+m))*w,L=(v+y)*w,O=(p+b)*E,N=(v-y)*E,j=(1-(l+g))*E;return t[0]=R,t[1]=I,t[2]=S,t[3]=0,t[4]=P,t[5]=U,t[6]=L,t[7]=0,t[8]=O,t[9]=N,t[10]=j,t[11]=0,t[12]=n[0]+x-(R*x+P*A+O*T),t[13]=n[1]+A-(I*x+U*A+N*T),t[14]=n[2]+T-(S*x+L*A+j*T),t[15]=1,t}function Ar(t,r){var n=r[0],e=r[1],i=r[2],a=r[3],o=n+n,u=e+e,s=i+i,h=n*o,c=e*o,f=e*u,l=i*o,d=i*u,p=i*s,g=a*o,v=a*u,m=a*s;return t[0]=1-f-p,t[1]=c+m,t[2]=l-v,t[3]=0,t[4]=c-m,t[5]=1-h-p,t[6]=d+g,t[7]=0,t[8]=l+v,t[9]=d-g,t[10]=1-h-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Tr(t,r,n,e,i,a,o){var u=1/(n-r),s=1/(i-e),h=1/(a-o);return t[0]=2*a*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*s,t[6]=0,t[7]=0,t[8]=(n+r)*u,t[9]=(i+e)*s,t[10]=(o+a)*h,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*a*2*h,t[15]=0,t}function Rr(t,r,n,e,i){var a=1/Math.tan(r/2),o=void 0;return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(e-i),t[10]=(i+e)*o,t[14]=2*i*e*o):(t[10]=-1,t[14]=-2*e),t}function Ir(t,r,n,e){var i=Math.tan(r.upDegrees*Math.PI/180),a=Math.tan(r.downDegrees*Math.PI/180),o=Math.tan(r.leftDegrees*Math.PI/180),u=Math.tan(r.rightDegrees*Math.PI/180),s=2/(o+u),h=2/(i+a);return t[0]=s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=h,t[6]=0,t[7]=0,t[8]=-(o-u)*s*.5,t[9]=(i-a)*h*.5,t[10]=e/(n-e),t[11]=-1,t[12]=0,t[13]=0,t[14]=e*n/(n-e),t[15]=0,t}function Sr(t,r,n,e,i,a,o){var u=1/(r-n),s=1/(e-i),h=1/(a-o);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*h,t[11]=0,t[12]=(r+n)*u,t[13]=(i+e)*s,t[14]=(o+a)*h,t[15]=1,t}function Pr(t,r,n,e){var i=void 0,a=void 0,o=void 0,u=void 0,s=void 0,h=void 0,c=void 0,f=void 0,l=void 0,p=void 0,g=r[0],v=r[1],m=r[2],y=e[0],b=e[1],_=e[2],M=n[0],w=n[1],E=n[2];return Math.abs(g-M)<d&&Math.abs(v-w)<d&&Math.abs(m-E)<d?tr(t):(c=g-M,f=v-w,l=m-E,i=b*(l*=p=1/Math.sqrt(c*c+f*f+l*l))-_*(f*=p),a=_*(c*=p)-y*l,o=y*f-b*c,(p=Math.sqrt(i*i+a*a+o*o))?(i*=p=1/p,a*=p,o*=p):(i=0,a=0,o=0),u=f*o-l*a,s=l*i-c*o,h=c*a-f*i,(p=Math.sqrt(u*u+s*s+h*h))?(u*=p=1/p,s*=p,h*=p):(u=0,s=0,h=0),t[0]=i,t[1]=u,t[2]=c,t[3]=0,t[4]=a,t[5]=s,t[6]=f,t[7]=0,t[8]=o,t[9]=h,t[10]=l,t[11]=0,t[12]=-(i*g+a*v+o*m),t[13]=-(u*g+s*v+h*m),t[14]=-(c*g+f*v+l*m),t[15]=1,t)}function Ur(t,r,n,e){var i=r[0],a=r[1],o=r[2],u=e[0],s=e[1],h=e[2],c=i-n[0],f=a-n[1],l=o-n[2],d=c*c+f*f+l*l;d>0&&(c*=d=1/Math.sqrt(d),f*=d,l*=d);var p=s*l-h*f,g=h*c-u*l,v=u*f-s*c;return(d=p*p+g*g+v*v)>0&&(p*=d=1/Math.sqrt(d),g*=d,v*=d),t[0]=p,t[1]=g,t[2]=v,t[3]=0,t[4]=f*v-l*g,t[5]=l*p-c*v,t[6]=c*g-f*p,t[7]=0,t[8]=c,t[9]=f,t[10]=l,t[11]=0,t[12]=i,t[13]=a,t[14]=o,t[15]=1,t}function Lr(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function Or(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))}function Nr(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t[3]=r[3]+n[3],t[4]=r[4]+n[4],t[5]=r[5]+n[5],t[6]=r[6]+n[6],t[7]=r[7]+n[7],t[8]=r[8]+n[8],t[9]=r[9]+n[9],t[10]=r[10]+n[10],t[11]=r[11]+n[11],t[12]=r[12]+n[12],t[13]=r[13]+n[13],t[14]=r[14]+n[14],t[15]=r[15]+n[15],t}function jr(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t[3]=r[3]-n[3],t[4]=r[4]-n[4],t[5]=r[5]-n[5],t[6]=r[6]-n[6],t[7]=r[7]-n[7],t[8]=r[8]-n[8],t[9]=r[9]-n[9],t[10]=r[10]-n[10],t[11]=r[11]-n[11],t[12]=r[12]-n[12],t[13]=r[13]-n[13],t[14]=r[14]-n[14],t[15]=r[15]-n[15],t}function Dr(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t[4]=r[4]*n,t[5]=r[5]*n,t[6]=r[6]*n,t[7]=r[7]*n,t[8]=r[8]*n,t[9]=r[9]*n,t[10]=r[10]*n,t[11]=r[11]*n,t[12]=r[12]*n,t[13]=r[13]*n,t[14]=r[14]*n,t[15]=r[15]*n,t}function Br(t,r,n,e){return t[0]=r[0]+n[0]*e,t[1]=r[1]+n[1]*e,t[2]=r[2]+n[2]*e,t[3]=r[3]+n[3]*e,t[4]=r[4]+n[4]*e,t[5]=r[5]+n[5]*e,t[6]=r[6]+n[6]*e,t[7]=r[7]+n[7]*e,t[8]=r[8]+n[8]*e,t[9]=r[9]+n[9]*e,t[10]=r[10]+n[10]*e,t[11]=r[11]+n[11]*e,t[12]=r[12]+n[12]*e,t[13]=r[13]+n[13]*e,t[14]=r[14]+n[14]*e,t[15]=r[15]+n[15]*e,t}function Fr(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]&&t[6]===r[6]&&t[7]===r[7]&&t[8]===r[8]&&t[9]===r[9]&&t[10]===r[10]&&t[11]===r[11]&&t[12]===r[12]&&t[13]===r[13]&&t[14]===r[14]&&t[15]===r[15]}function Cr(t,r){var n=t[0],e=t[1],i=t[2],a=t[3],o=t[4],u=t[5],s=t[6],h=t[7],c=t[8],f=t[9],l=t[10],p=t[11],g=t[12],v=t[13],m=t[14],y=t[15],b=r[0],_=r[1],M=r[2],w=r[3],E=r[4],x=r[5],A=r[6],T=r[7],R=r[8],I=r[9],S=r[10],P=r[11],U=r[12],L=r[13],O=r[14],N=r[15];return Math.abs(n-b)<=d*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(e-_)<=d*Math.max(1,Math.abs(e),Math.abs(_))&&Math.abs(i-M)<=d*Math.max(1,Math.abs(i),Math.abs(M))&&Math.abs(a-w)<=d*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(o-E)<=d*Math.max(1,Math.abs(o),Math.abs(E))&&Math.abs(u-x)<=d*Math.max(1,Math.abs(u),Math.abs(x))&&Math.abs(s-A)<=d*Math.max(1,Math.abs(s),Math.abs(A))&&Math.abs(h-T)<=d*Math.max(1,Math.abs(h),Math.abs(T))&&Math.abs(c-R)<=d*Math.max(1,Math.abs(c),Math.abs(R))&&Math.abs(f-I)<=d*Math.max(1,Math.abs(f),Math.abs(I))&&Math.abs(l-S)<=d*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(p-P)<=d*Math.max(1,Math.abs(p),Math.abs(P))&&Math.abs(g-U)<=d*Math.max(1,Math.abs(g),Math.abs(U))&&Math.abs(v-L)<=d*Math.max(1,Math.abs(v),Math.abs(L))&&Math.abs(m-O)<=d*Math.max(1,Math.abs(m),Math.abs(O))&&Math.abs(y-N)<=d*Math.max(1,Math.abs(y),Math.abs(N))}var Vr=ar,kr=jr;function qr(){var t=new p(3);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function Yr(t){var r=new p(3);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}function Xr(t){var r=t[0],n=t[1],e=t[2];return Math.sqrt(r*r+n*n+e*e)}function Gr(t,r,n){var e=new p(3);return e[0]=t,e[1]=r,e[2]=n,e}function Hr(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}function zr(t,r,n,e){return t[0]=r,t[1]=n,t[2]=e,t}function Wr(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t}function Kr(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t}function Zr(t,r,n){return t[0]=r[0]*n[0],t[1]=r[1]*n[1],t[2]=r[2]*n[2],t}function Qr(t,r,n){return t[0]=r[0]/n[0],t[1]=r[1]/n[1],t[2]=r[2]/n[2],t}function Jr(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t}function $r(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t}function tn(t,r,n){return t[0]=Math.min(r[0],n[0]),t[1]=Math.min(r[1],n[1]),t[2]=Math.min(r[2],n[2]),t}function rn(t,r,n){return t[0]=Math.max(r[0],n[0]),t[1]=Math.max(r[1],n[1]),t[2]=Math.max(r[2],n[2]),t}function nn(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t}function en(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t}function an(t,r,n,e){return t[0]=r[0]+n[0]*e,t[1]=r[1]+n[1]*e,t[2]=r[2]+n[2]*e,t}function on(t,r){var n=r[0]-t[0],e=r[1]-t[1],i=r[2]-t[2];return Math.sqrt(n*n+e*e+i*i)}function un(t,r){var n=r[0]-t[0],e=r[1]-t[1],i=r[2]-t[2];return n*n+e*e+i*i}function sn(t){var r=t[0],n=t[1],e=t[2];return r*r+n*n+e*e}function hn(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t}function cn(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t}function fn(t,r){var n=r[0],e=r[1],i=r[2],a=n*n+e*e+i*i;return a>0&&(a=1/Math.sqrt(a),t[0]=r[0]*a,t[1]=r[1]*a,t[2]=r[2]*a),t}function ln(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}function dn(t,r,n){var e=r[0],i=r[1],a=r[2],o=n[0],u=n[1],s=n[2];return t[0]=i*s-a*u,t[1]=a*o-e*s,t[2]=e*u-i*o,t}function pn(t,r,n,e){var i=r[0],a=r[1],o=r[2];return t[0]=i+e*(n[0]-i),t[1]=a+e*(n[1]-a),t[2]=o+e*(n[2]-o),t}function gn(t,r,n,e,i,a){var o=a*a,u=o*(2*a-3)+1,s=o*(a-2)+a,h=o*(a-1),c=o*(3-2*a);return t[0]=r[0]*u+n[0]*s+e[0]*h+i[0]*c,t[1]=r[1]*u+n[1]*s+e[1]*h+i[1]*c,t[2]=r[2]*u+n[2]*s+e[2]*h+i[2]*c,t}function vn(t,r,n,e,i,a){var o=1-a,u=o*o,s=a*a,h=u*o,c=3*a*u,f=3*s*o,l=s*a;return t[0]=r[0]*h+n[0]*c+e[0]*f+i[0]*l,t[1]=r[1]*h+n[1]*c+e[1]*f+i[1]*l,t[2]=r[2]*h+n[2]*c+e[2]*f+i[2]*l,t}function mn(t,r){r=r||1;var n=2*g()*Math.PI,e=2*g()-1,i=Math.sqrt(1-e*e)*r;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=e*r,t}function yn(t,r,n){var e=r[0],i=r[1],a=r[2],o=n[3]*e+n[7]*i+n[11]*a+n[15];return o=o||1,t[0]=(n[0]*e+n[4]*i+n[8]*a+n[12])/o,t[1]=(n[1]*e+n[5]*i+n[9]*a+n[13])/o,t[2]=(n[2]*e+n[6]*i+n[10]*a+n[14])/o,t}function bn(t,r,n){var e=r[0],i=r[1],a=r[2];return t[0]=e*n[0]+i*n[3]+a*n[6],t[1]=e*n[1]+i*n[4]+a*n[7],t[2]=e*n[2]+i*n[5]+a*n[8],t}function _n(t,r,n){var e=n[0],i=n[1],a=n[2],o=n[3],u=r[0],s=r[1],h=r[2],c=i*h-a*s,f=a*u-e*h,l=e*s-i*u,d=i*l-a*f,p=a*c-e*l,g=e*f-i*c,v=2*o;return c*=v,f*=v,l*=v,d*=2,p*=2,g*=2,t[0]=u+c+d,t[1]=s+f+p,t[2]=h+l+g,t}function Mn(t,r,n,e){var i=[],a=[];return i[0]=r[0]-n[0],i[1]=r[1]-n[1],i[2]=r[2]-n[2],a[0]=i[0],a[1]=i[1]*Math.cos(e)-i[2]*Math.sin(e),a[2]=i[1]*Math.sin(e)+i[2]*Math.cos(e),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function wn(t,r,n,e){var i=[],a=[];return i[0]=r[0]-n[0],i[1]=r[1]-n[1],i[2]=r[2]-n[2],a[0]=i[2]*Math.sin(e)+i[0]*Math.cos(e),a[1]=i[1],a[2]=i[2]*Math.cos(e)-i[0]*Math.sin(e),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function En(t,r,n,e){var i=[],a=[];return i[0]=r[0]-n[0],i[1]=r[1]-n[1],i[2]=r[2]-n[2],a[0]=i[0]*Math.cos(e)-i[1]*Math.sin(e),a[1]=i[0]*Math.sin(e)+i[1]*Math.cos(e),a[2]=i[2],t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function xn(t,r){var n=Gr(t[0],t[1],t[2]),e=Gr(r[0],r[1],r[2]);fn(n,n),fn(e,e);var i=ln(n,e);return i>1?0:i<-1?Math.PI:Math.acos(i)}function An(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function Tn(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]}function Rn(t,r){var n=t[0],e=t[1],i=t[2],a=r[0],o=r[1],u=r[2];return Math.abs(n-a)<=d*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(e-o)<=d*Math.max(1,Math.abs(e),Math.abs(o))&&Math.abs(i-u)<=d*Math.max(1,Math.abs(i),Math.abs(u))}var In=Kr,Sn=Zr,Pn=Qr,Un=on,Ln=un,On=Xr,Nn=sn,jn=function(){var t=qr();return function(r,n,e,i,a,o){var u=void 0,s=void 0;for(n||(n=3),e||(e=0),s=i?Math.min(i*n+e,r.length):r.length,u=e;u<s;u+=n)t[0]=r[u],t[1]=r[u+1],t[2]=r[u+2],a(t,t,o),r[u]=t[0],r[u+1]=t[1],r[u+2]=t[2];return r}}();function Dn(){var t=new p(4);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function Bn(t){var r=new p(4);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}function Fn(t,r,n,e){var i=new p(4);return i[0]=t,i[1]=r,i[2]=n,i[3]=e,i}function Cn(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}function Vn(t,r,n,e,i){return t[0]=r,t[1]=n,t[2]=e,t[3]=i,t}function kn(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t[3]=r[3]+n[3],t}function qn(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t[3]=r[3]-n[3],t}function Yn(t,r,n){return t[0]=r[0]*n[0],t[1]=r[1]*n[1],t[2]=r[2]*n[2],t[3]=r[3]*n[3],t}function Xn(t,r,n){return t[0]=r[0]/n[0],t[1]=r[1]/n[1],t[2]=r[2]/n[2],t[3]=r[3]/n[3],t}function Gn(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t[3]=Math.ceil(r[3]),t}function Hn(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t[3]=Math.floor(r[3]),t}function zn(t,r,n){return t[0]=Math.min(r[0],n[0]),t[1]=Math.min(r[1],n[1]),t[2]=Math.min(r[2],n[2]),t[3]=Math.min(r[3],n[3]),t}function Wn(t,r,n){return t[0]=Math.max(r[0],n[0]),t[1]=Math.max(r[1],n[1]),t[2]=Math.max(r[2],n[2]),t[3]=Math.max(r[3],n[3]),t}function Kn(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t[3]=Math.round(r[3]),t}function Zn(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t}function Qn(t,r,n,e){return t[0]=r[0]+n[0]*e,t[1]=r[1]+n[1]*e,t[2]=r[2]+n[2]*e,t[3]=r[3]+n[3]*e,t}function Jn(t,r){var n=r[0]-t[0],e=r[1]-t[1],i=r[2]-t[2],a=r[3]-t[3];return Math.sqrt(n*n+e*e+i*i+a*a)}function $n(t,r){var n=r[0]-t[0],e=r[1]-t[1],i=r[2]-t[2],a=r[3]-t[3];return n*n+e*e+i*i+a*a}function te(t){var r=t[0],n=t[1],e=t[2],i=t[3];return Math.sqrt(r*r+n*n+e*e+i*i)}function re(t){var r=t[0],n=t[1],e=t[2],i=t[3];return r*r+n*n+e*e+i*i}function ne(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=-r[3],t}function ee(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t[3]=1/r[3],t}function ie(t,r){var n=r[0],e=r[1],i=r[2],a=r[3],o=n*n+e*e+i*i+a*a;return o>0&&(o=1/Math.sqrt(o),t[0]=n*o,t[1]=e*o,t[2]=i*o,t[3]=a*o),t}function ae(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3]}function oe(t,r,n,e){var i=r[0],a=r[1],o=r[2],u=r[3];return t[0]=i+e*(n[0]-i),t[1]=a+e*(n[1]-a),t[2]=o+e*(n[2]-o),t[3]=u+e*(n[3]-u),t}function ue(t,r){var n,e,i,a,o,u;r=r||1;do{o=(n=2*g()-1)*n+(e=2*g()-1)*e}while(o>=1);do{u=(i=2*g()-1)*i+(a=2*g()-1)*a}while(u>=1);var s=Math.sqrt((1-o)/u);return t[0]=r*n,t[1]=r*e,t[2]=r*i*s,t[3]=r*a*s,t}function se(t,r,n){var e=r[0],i=r[1],a=r[2],o=r[3];return t[0]=n[0]*e+n[4]*i+n[8]*a+n[12]*o,t[1]=n[1]*e+n[5]*i+n[9]*a+n[13]*o,t[2]=n[2]*e+n[6]*i+n[10]*a+n[14]*o,t[3]=n[3]*e+n[7]*i+n[11]*a+n[15]*o,t}function he(t,r,n){var e=r[0],i=r[1],a=r[2],o=n[0],u=n[1],s=n[2],h=n[3],c=h*e+u*a-s*i,f=h*i+s*e-o*a,l=h*a+o*i-u*e,d=-o*e-u*i-s*a;return t[0]=c*h+d*-o+f*-s-l*-u,t[1]=f*h+d*-u+l*-o-c*-s,t[2]=l*h+d*-s+c*-u-f*-o,t[3]=r[3],t}function ce(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function fe(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]}function le(t,r){var n=t[0],e=t[1],i=t[2],a=t[3],o=r[0],u=r[1],s=r[2],h=r[3];return Math.abs(n-o)<=d*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(e-u)<=d*Math.max(1,Math.abs(e),Math.abs(u))&&Math.abs(i-s)<=d*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(a-h)<=d*Math.max(1,Math.abs(a),Math.abs(h))}var de=qn,pe=Yn,ge=Xn,ve=Jn,me=$n,ye=te,be=re,_e=function(){var t=Dn();return function(r,n,e,i,a,o){var u=void 0,s=void 0;for(n||(n=4),e||(e=0),s=i?Math.min(i*n+e,r.length):r.length,u=e;u<s;u+=n)t[0]=r[u],t[1]=r[u+1],t[2]=r[u+2],t[3]=r[u+3],a(t,t,o),r[u]=t[0],r[u+1]=t[1],r[u+2]=t[2],r[u+3]=t[3];return r}}();function Me(){var t=new p(4);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function we(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Ee(t,r,n){n*=.5;var e=Math.sin(n);return t[0]=e*r[0],t[1]=e*r[1],t[2]=e*r[2],t[3]=Math.cos(n),t}function xe(t,r){var n=2*Math.acos(r[3]),e=Math.sin(n/2);return e>d?(t[0]=r[0]/e,t[1]=r[1]/e,t[2]=r[2]/e):(t[0]=1,t[1]=0,t[2]=0),n}function Ae(t,r,n){var e=r[0],i=r[1],a=r[2],o=r[3],u=n[0],s=n[1],h=n[2],c=n[3];return t[0]=e*c+o*u+i*h-a*s,t[1]=i*c+o*s+a*u-e*h,t[2]=a*c+o*h+e*s-i*u,t[3]=o*c-e*u-i*s-a*h,t}function Te(t,r,n){n*=.5;var e=r[0],i=r[1],a=r[2],o=r[3],u=Math.sin(n),s=Math.cos(n);return t[0]=e*s+o*u,t[1]=i*s+a*u,t[2]=a*s-i*u,t[3]=o*s-e*u,t}function Re(t,r,n){n*=.5;var e=r[0],i=r[1],a=r[2],o=r[3],u=Math.sin(n),s=Math.cos(n);return t[0]=e*s-a*u,t[1]=i*s+o*u,t[2]=a*s+e*u,t[3]=o*s-i*u,t}function Ie(t,r,n){n*=.5;var e=r[0],i=r[1],a=r[2],o=r[3],u=Math.sin(n),s=Math.cos(n);return t[0]=e*s+i*u,t[1]=i*s-e*u,t[2]=a*s+o*u,t[3]=o*s-a*u,t}function Se(t,r){var n=r[0],e=r[1],i=r[2];return t[0]=n,t[1]=e,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-e*e-i*i)),t}function Pe(t,r,n,e){var i=r[0],a=r[1],o=r[2],u=r[3],s=n[0],h=n[1],c=n[2],f=n[3],l=void 0,p=void 0,g=void 0,v=void 0,m=void 0;return(p=i*s+a*h+o*c+u*f)<0&&(p=-p,s=-s,h=-h,c=-c,f=-f),1-p>d?(l=Math.acos(p),g=Math.sin(l),v=Math.sin((1-e)*l)/g,m=Math.sin(e*l)/g):(v=1-e,m=e),t[0]=v*i+m*s,t[1]=v*a+m*h,t[2]=v*o+m*c,t[3]=v*u+m*f,t}function Ue(t){var r=g(),n=g(),e=g(),i=Math.sqrt(1-r),a=Math.sqrt(r);return t[0]=i*Math.sin(2*Math.PI*n),t[1]=i*Math.cos(2*Math.PI*n),t[2]=a*Math.sin(2*Math.PI*e),t[3]=a*Math.cos(2*Math.PI*e),t}function Le(t,r){var n=r[0],e=r[1],i=r[2],a=r[3],o=n*n+e*e+i*i+a*a,u=o?1/o:0;return t[0]=-n*u,t[1]=-e*u,t[2]=-i*u,t[3]=a*u,t}function Oe(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=r[3],t}function Ne(t,r){var n=r[0]+r[4]+r[8],e=void 0;if(n>0)e=Math.sqrt(n+1),t[3]=.5*e,e=.5/e,t[0]=(r[5]-r[7])*e,t[1]=(r[6]-r[2])*e,t[2]=(r[1]-r[3])*e;else{var i=0;r[4]>r[0]&&(i=1),r[8]>r[3*i+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;e=Math.sqrt(r[3*i+i]-r[3*a+a]-r[3*o+o]+1),t[i]=.5*e,e=.5/e,t[3]=(r[3*a+o]-r[3*o+a])*e,t[a]=(r[3*a+i]+r[3*i+a])*e,t[o]=(r[3*o+i]+r[3*i+o])*e}return t}function je(t,r,n,e){var i=.5*Math.PI/180;r*=i,n*=i,e*=i;var a=Math.sin(r),o=Math.cos(r),u=Math.sin(n),s=Math.cos(n),h=Math.sin(e),c=Math.cos(e);return t[0]=a*s*c-o*u*h,t[1]=o*u*c+a*s*h,t[2]=o*s*h-a*u*c,t[3]=o*s*c+a*u*h,t}function De(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var Be=Bn,Fe=Fn,Ce=Cn,Ve=Vn,ke=kn,qe=Ae,Ye=Zn,Xe=ae,Ge=oe,He=te,ze=He,We=re,Ke=We,Ze=ie,Qe=fe,Je=le,$e=function(){var t=qr(),r=Gr(1,0,0),n=Gr(0,1,0);return function(e,i,a){var o=ln(i,a);return o<-.999999?(dn(t,r,i),On(t)<1e-6&&dn(t,n,i),fn(t,t),Ee(e,t,Math.PI),e):o>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(dn(t,i,a),e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=1+o,Ze(e,e))}}(),ti=function(){var t=Me(),r=Me();return function(n,e,i,a,o,u){return Pe(t,e,o,u),Pe(r,i,a,u),Pe(n,t,r,2*u*(1-u)),n}}(),ri=function(){var t=mt();return function(r,n,e,i){return t[0]=e[0],t[3]=e[1],t[6]=e[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],Ze(r,Ne(r,t))}}();function ni(){var t=new p(8);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t}function ei(t){var r=new p(8);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r}function ii(t,r,n,e,i,a,o,u){var s=new p(8);return s[0]=t,s[1]=r,s[2]=n,s[3]=e,s[4]=i,s[5]=a,s[6]=o,s[7]=u,s}function ai(t,r,n,e,i,a,o){var u=new p(8);u[0]=t,u[1]=r,u[2]=n,u[3]=e;var s=.5*i,h=.5*a,c=.5*o;return u[4]=s*e+h*n-c*r,u[5]=h*e+c*t-s*n,u[6]=c*e+s*r-h*t,u[7]=-s*t-h*r-c*n,u}function oi(t,r,n){var e=.5*n[0],i=.5*n[1],a=.5*n[2],o=r[0],u=r[1],s=r[2],h=r[3];return t[0]=o,t[1]=u,t[2]=s,t[3]=h,t[4]=e*h+i*s-a*u,t[5]=i*h+a*o-e*s,t[6]=a*h+e*u-i*o,t[7]=-e*o-i*u-a*s,t}function ui(t,r){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*r[0],t[5]=.5*r[1],t[6]=.5*r[2],t[7]=0,t}function si(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function hi(t,r){var n=Me();wr(n,r);var e=new p(3);return _r(e,r),oi(t,n,e),t}function ci(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t}function fi(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function li(t,r,n,e,i,a,o,u,s){return t[0]=r,t[1]=n,t[2]=e,t[3]=i,t[4]=a,t[5]=o,t[6]=u,t[7]=s,t}var di=Ce;function pi(t,r){return t[0]=r[4],t[1]=r[5],t[2]=r[6],t[3]=r[7],t}var gi=Ce;function vi(t,r){return t[4]=r[0],t[5]=r[1],t[6]=r[2],t[7]=r[3],t}function mi(t,r){var n=r[4],e=r[5],i=r[6],a=r[7],o=-r[0],u=-r[1],s=-r[2],h=r[3];return t[0]=2*(n*h+a*o+e*s-i*u),t[1]=2*(e*h+a*u+i*o-n*s),t[2]=2*(i*h+a*s+n*u-e*o),t}function yi(t,r,n){var e=r[0],i=r[1],a=r[2],o=r[3],u=.5*n[0],s=.5*n[1],h=.5*n[2],c=r[4],f=r[5],l=r[6],d=r[7];return t[0]=e,t[1]=i,t[2]=a,t[3]=o,t[4]=o*u+i*h-a*s+c,t[5]=o*s+a*u-e*h+f,t[6]=o*h+e*s-i*u+l,t[7]=-e*u-i*s-a*h+d,t}function bi(t,r,n){var e=-r[0],i=-r[1],a=-r[2],o=r[3],u=r[4],s=r[5],h=r[6],c=r[7],f=u*o+c*e+s*a-h*i,l=s*o+c*i+h*e-u*a,d=h*o+c*a+u*i-s*e,p=c*o-u*e-s*i-h*a;return Te(t,r,n),e=t[0],i=t[1],a=t[2],o=t[3],t[4]=f*o+p*e+l*a-d*i,t[5]=l*o+p*i+d*e-f*a,t[6]=d*o+p*a+f*i-l*e,t[7]=p*o-f*e-l*i-d*a,t}function _i(t,r,n){var e=-r[0],i=-r[1],a=-r[2],o=r[3],u=r[4],s=r[5],h=r[6],c=r[7],f=u*o+c*e+s*a-h*i,l=s*o+c*i+h*e-u*a,d=h*o+c*a+u*i-s*e,p=c*o-u*e-s*i-h*a;return Re(t,r,n),e=t[0],i=t[1],a=t[2],o=t[3],t[4]=f*o+p*e+l*a-d*i,t[5]=l*o+p*i+d*e-f*a,t[6]=d*o+p*a+f*i-l*e,t[7]=p*o-f*e-l*i-d*a,t}function Mi(t,r,n){var e=-r[0],i=-r[1],a=-r[2],o=r[3],u=r[4],s=r[5],h=r[6],c=r[7],f=u*o+c*e+s*a-h*i,l=s*o+c*i+h*e-u*a,d=h*o+c*a+u*i-s*e,p=c*o-u*e-s*i-h*a;return Ie(t,r,n),e=t[0],i=t[1],a=t[2],o=t[3],t[4]=f*o+p*e+l*a-d*i,t[5]=l*o+p*i+d*e-f*a,t[6]=d*o+p*a+f*i-l*e,t[7]=p*o-f*e-l*i-d*a,t}function wi(t,r,n){var e=n[0],i=n[1],a=n[2],o=n[3],u=r[0],s=r[1],h=r[2],c=r[3];return t[0]=u*o+c*e+s*a-h*i,t[1]=s*o+c*i+h*e-u*a,t[2]=h*o+c*a+u*i-s*e,t[3]=c*o-u*e-s*i-h*a,u=r[4],s=r[5],h=r[6],c=r[7],t[4]=u*o+c*e+s*a-h*i,t[5]=s*o+c*i+h*e-u*a,t[6]=h*o+c*a+u*i-s*e,t[7]=c*o-u*e-s*i-h*a,t}function Ei(t,r,n){var e=r[0],i=r[1],a=r[2],o=r[3],u=n[0],s=n[1],h=n[2],c=n[3];return t[0]=e*c+o*u+i*h-a*s,t[1]=i*c+o*s+a*u-e*h,t[2]=a*c+o*h+e*s-i*u,t[3]=o*c-e*u-i*s-a*h,u=n[4],s=n[5],h=n[6],c=n[7],t[4]=e*c+o*u+i*h-a*s,t[5]=i*c+o*s+a*u-e*h,t[6]=a*c+o*h+e*s-i*u,t[7]=o*c-e*u-i*s-a*h,t}function xi(t,r,n,e){if(Math.abs(e)<d)return ci(t,r);var i=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);e*=.5;var a=Math.sin(e),o=a*n[0]/i,u=a*n[1]/i,s=a*n[2]/i,h=Math.cos(e),c=r[0],f=r[1],l=r[2],p=r[3];t[0]=c*h+p*o+f*s-l*u,t[1]=f*h+p*u+l*o-c*s,t[2]=l*h+p*s+c*u-f*o,t[3]=p*h-c*o-f*u-l*s;var g=r[4],v=r[5],m=r[6],y=r[7];return t[4]=g*h+y*o+v*s-m*u,t[5]=v*h+y*u+m*o-g*s,t[6]=m*h+y*s+g*u-v*o,t[7]=y*h-g*o-v*u-m*s,t}function Ai(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t[3]=r[3]+n[3],t[4]=r[4]+n[4],t[5]=r[5]+n[5],t[6]=r[6]+n[6],t[7]=r[7]+n[7],t}function Ti(t,r,n){var e=r[0],i=r[1],a=r[2],o=r[3],u=n[4],s=n[5],h=n[6],c=n[7],f=r[4],l=r[5],d=r[6],p=r[7],g=n[0],v=n[1],m=n[2],y=n[3];return t[0]=e*y+o*g+i*m-a*v,t[1]=i*y+o*v+a*g-e*m,t[2]=a*y+o*m+e*v-i*g,t[3]=o*y-e*g-i*v-a*m,t[4]=e*c+o*u+i*h-a*s+f*y+p*g+l*m-d*v,t[5]=i*c+o*s+a*u-e*h+l*y+p*v+d*g-f*m,t[6]=a*c+o*h+e*s-i*u+d*y+p*m+f*v-l*g,t[7]=o*c-e*u-i*s-a*h+p*y-f*g-l*v-d*m,t}var Ri=Ti;function Ii(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t[4]=r[4]*n,t[5]=r[5]*n,t[6]=r[6]*n,t[7]=r[7]*n,t}var Si=Xe;function Pi(t,r,n,e){var i=1-e;return Si(r,n)<0&&(e=-e),t[0]=r[0]*i+n[0]*e,t[1]=r[1]*i+n[1]*e,t[2]=r[2]*i+n[2]*e,t[3]=r[3]*i+n[3]*e,t[4]=r[4]*i+n[4]*e,t[5]=r[5]*i+n[5]*e,t[6]=r[6]*i+n[6]*e,t[7]=r[7]*i+n[7]*e,t}function Ui(t,r){var n=ji(r);return t[0]=-r[0]/n,t[1]=-r[1]/n,t[2]=-r[2]/n,t[3]=r[3]/n,t[4]=-r[4]/n,t[5]=-r[5]/n,t[6]=-r[6]/n,t[7]=r[7]/n,t}function Li(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=r[3],t[4]=-r[4],t[5]=-r[5],t[6]=-r[6],t[7]=r[7],t}var Oi=He,Ni=Oi,ji=We,Di=ji;function Bi(t,r){var n=ji(r);if(n>0){n=Math.sqrt(n);var e=r[0]/n,i=r[1]/n,a=r[2]/n,o=r[3]/n,u=r[4],s=r[5],h=r[6],c=r[7],f=e*u+i*s+a*h+o*c;t[0]=e,t[1]=i,t[2]=a,t[3]=o,t[4]=(u-e*f)/n,t[5]=(s-i*f)/n,t[6]=(h-a*f)/n,t[7]=(c-o*f)/n}return t}function Fi(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function Ci(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]&&t[6]===r[6]&&t[7]===r[7]}function Vi(t,r){var n=t[0],e=t[1],i=t[2],a=t[3],o=t[4],u=t[5],s=t[6],h=t[7],c=r[0],f=r[1],l=r[2],p=r[3],g=r[4],v=r[5],m=r[6],y=r[7];return Math.abs(n-c)<=d*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(e-f)<=d*Math.max(1,Math.abs(e),Math.abs(f))&&Math.abs(i-l)<=d*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(a-p)<=d*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(o-g)<=d*Math.max(1,Math.abs(o),Math.abs(g))&&Math.abs(u-v)<=d*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(s-m)<=d*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(h-y)<=d*Math.max(1,Math.abs(h),Math.abs(y))}function ki(){var t=new p(2);return p!=Float32Array&&(t[0]=0,t[1]=0),t}function qi(t){var r=new p(2);return r[0]=t[0],r[1]=t[1],r}function Yi(t,r){var n=new p(2);return n[0]=t,n[1]=r,n}function Xi(t,r){return t[0]=r[0],t[1]=r[1],t}function Gi(t,r,n){return t[0]=r,t[1]=n,t}function Hi(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t}function zi(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t}function Wi(t,r,n){return t[0]=r[0]*n[0],t[1]=r[1]*n[1],t}function Ki(t,r,n){return t[0]=r[0]/n[0],t[1]=r[1]/n[1],t}function Zi(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t}function Qi(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t}function Ji(t,r,n){return t[0]=Math.min(r[0],n[0]),t[1]=Math.min(r[1],n[1]),t}function $i(t,r,n){return t[0]=Math.max(r[0],n[0]),t[1]=Math.max(r[1],n[1]),t}function ta(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t}function ra(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t}function na(t,r,n,e){return t[0]=r[0]+n[0]*e,t[1]=r[1]+n[1]*e,t}function ea(t,r){var n=r[0]-t[0],e=r[1]-t[1];return Math.sqrt(n*n+e*e)}function ia(t,r){var n=r[0]-t[0],e=r[1]-t[1];return n*n+e*e}function aa(t){var r=t[0],n=t[1];return Math.sqrt(r*r+n*n)}function oa(t){var r=t[0],n=t[1];return r*r+n*n}function ua(t,r){return t[0]=-r[0],t[1]=-r[1],t}function sa(t,r){return t[0]=1/r[0],t[1]=1/r[1],t}function ha(t,r){var n=r[0],e=r[1],i=n*n+e*e;return i>0&&(i=1/Math.sqrt(i),t[0]=r[0]*i,t[1]=r[1]*i),t}function ca(t,r){return t[0]*r[0]+t[1]*r[1]}function fa(t,r,n){var e=r[0]*n[1]-r[1]*n[0];return t[0]=t[1]=0,t[2]=e,t}function la(t,r,n,e){var i=r[0],a=r[1];return t[0]=i+e*(n[0]-i),t[1]=a+e*(n[1]-a),t}function da(t,r){r=r||1;var n=2*g()*Math.PI;return t[0]=Math.cos(n)*r,t[1]=Math.sin(n)*r,t}function pa(t,r,n){var e=r[0],i=r[1];return t[0]=n[0]*e+n[2]*i,t[1]=n[1]*e+n[3]*i,t}function ga(t,r,n){var e=r[0],i=r[1];return t[0]=n[0]*e+n[2]*i+n[4],t[1]=n[1]*e+n[3]*i+n[5],t}function va(t,r,n){var e=r[0],i=r[1];return t[0]=n[0]*e+n[3]*i+n[6],t[1]=n[1]*e+n[4]*i+n[7],t}function ma(t,r,n){var e=r[0],i=r[1];return t[0]=n[0]*e+n[4]*i+n[12],t[1]=n[1]*e+n[5]*i+n[13],t}function ya(t,r,n,e){var i=r[0]-n[0],a=r[1]-n[1],o=Math.sin(e),u=Math.cos(e);return t[0]=i*u-a*o+n[0],t[1]=i*o+a*u+n[1],t}function ba(t,r){var n=t[0],e=t[1],i=r[0],a=r[1],o=n*n+e*e;o>0&&(o=1/Math.sqrt(o));var u=i*i+a*a;u>0&&(u=1/Math.sqrt(u));var s=(n*i+e*a)*o*u;return s>1?0:s<-1?Math.PI:Math.acos(s)}function _a(t){return"vec2("+t[0]+", "+t[1]+")"}function Ma(t,r){return t[0]===r[0]&&t[1]===r[1]}function wa(t,r){var n=t[0],e=t[1],i=r[0],a=r[1];return Math.abs(n-i)<=d*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(e-a)<=d*Math.max(1,Math.abs(e),Math.abs(a))}var Ea=aa,xa=zi,Aa=Wi,Ta=Ki,Ra=ea,Ia=ia,Sa=oa,Pa=function(){var t=ki();return function(r,n,e,i,a,o){var u=void 0,s=void 0;for(n||(n=2),e||(e=0),s=i?Math.min(i*n+e,r.length):r.length,u=e;u<s;u+=n)t[0]=r[u],t[1]=r[u+1],a(t,t,o),r[u]=t[0],r[u+1]=t[1];return r}}()}]]);
//# sourceMappingURL=2.20b4bd16.chunk.js.map